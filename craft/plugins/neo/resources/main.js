!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=i(1),a=r(n),o=i(33),s=r(o);window.Neo={Configurator:a["default"],Input:s["default"]}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),o=r(a);i(3);var s=i(4),p=r(s),l=i(5),c=r(l),u=i(6),y=r(u),d=i(7),g=r(d),h=i(9),f=r(h),v=i(20),m=r(v),b=i(24),x=r(b),w=i(25),k=r(w),T=i(28),_=r(T);i(19),i(29);var B={namespace:[],blockTypes:[],groups:[],fieldLayoutHtml:""};t["default"]=p["default"].Base.extend({_templateNs:[],_items:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},B,t);var i=c["default"].formatInputId(t.namespace),r=(0,o["default"])("#"+i+"-neo-configurator"),a=r.children(".field").children(".input");this._templateNs=y["default"].parse(t.namespace),this._fieldLayoutHtml=t.fieldLayoutHtml,this._items=[],y["default"].enter(this._templateNs),this.$container=(0,o["default"])((0,_["default"])()),a.append(this.$container),y["default"].leave();var s=this.$container.find("[data-neo]");this.$mainContainer=s.filter('[data-neo="container.main"]'),this.$sidebarContainer=s.filter('[data-neo="container.sidebar"]'),this.$blockTypesContainer=s.filter('[data-neo="container.blockTypes"]'),this.$settingsContainer=s.filter('[data-neo="container.settings"]'),this.$fieldLayoutContainer=s.filter('[data-neo="container.fieldLayout"]'),this.$blockTypeButton=s.filter('[data-neo="button.blockType"]'),this.$groupButton=s.filter('[data-neo="button.group"]'),this.$settingsButton=s.filter('[data-neo="button.settings"]'),this.$fieldLayoutButton=s.filter('[data-neo="button.fieldLayout"]'),this._itemSort=new p["default"].DragSort(null,{container:this.$blockTypeItemsContainer,handle:'[data-neo-bt="button.move"], [data-neo-g="button.move"]',axis:"y",onSortChange:function(){return e._updateItemOrder()}});var l=[],u=[].concat(n(this._templateNs),["blockTypes"]),d=[].concat(n(this._templateNs),["groups"]),h=!0,v=!1,b=void 0;try{for(var w,T=t.blockTypes[Symbol.iterator]();!(h=(w=T.next()).done);h=!0){var $=w.value,O=new f["default"]({namespace:[].concat(n(u),[$.id]),sortOrder:$.sortOrder,id:$.id,name:$.name,handle:$.handle,maxBlocks:$.maxBlocks,topLevel:$.topLevel,errors:$.errors,childBlockTypes:l.filter(function(e){return e instanceof g["default"]})}),L=new m["default"]({namespace:[].concat(n(u),[$.id]),html:this._fieldLayoutHtml,layout:$.fieldLayout,id:$.fieldLayoutId,blockId:$.id}),I=new g["default"]({namespace:u,settings:O,fieldLayout:L});l.push(I)}}catch(S){v=!0,b=S}finally{try{!h&&T["return"]&&T["return"]()}finally{if(v)throw b}}var C=!0,j=!1,N=void 0;try{for(var E,A=t.groups[Symbol.iterator]();!(C=(E=A.next()).done);C=!0){var M=E.value,F=new k["default"]({namespace:d,sortOrder:M.sortOrder,name:M.name}),R=new x["default"]({namespace:d,settings:F});l.push(R)}}catch(S){j=!0,N=S}finally{try{!C&&A["return"]&&A["return"]()}finally{if(j)throw N}}var P=!0,D=!1,H=void 0;try{for(var U,z=l.sort(function(e,t){return e.getSettings().getSortOrder()-t.getSettings().getSortOrder()})[Symbol.iterator]();!(P=(U=z.next()).done);P=!0){var G=U.value;this.addItem(G)}}catch(S){D=!0,H=S}finally{try{!P&&z["return"]&&z["return"]()}finally{if(D)throw H}}var W=!0,q=!1,Z=void 0;try{for(var V,Y=function(){var e=V.value,i=e.getSettings(),r=t.blockTypes.find(function(e){return e.handle===i.getHandle()});i.setChildBlocks(r.childBlocks)},J=this.getBlockTypes()[Symbol.iterator]();!(W=(V=J.next()).done);W=!0)Y()}catch(S){q=!0,Z=S}finally{try{!W&&J["return"]&&J["return"]()}finally{if(q)throw Z}}this.selectTab("settings"),this.addListener(this.$blockTypeButton,"click","@newBlockType"),this.addListener(this.$groupButton,"click","@newGroup"),this.addListener(this.$settingsButton,"click",function(){return e.selectTab("settings")}),this.addListener(this.$fieldLayoutButton,"click",function(){return e.selectTab("fieldLayout")})},addItem:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?-1:arguments[1],r=e.getSettings();if(i>=0&&i<this._items.length?e.$container.insertAt(i,this.$blockTypesContainer):this.$blockTypesContainer.append(e.$container),this._itemSort.addItems(e.$container),r&&this.$settingsContainer.append(r.$container),this.$mainContainer.removeClass("hidden"),this.addListener(e.$container,"click","@selectItem"),e.on("destroy.configurator",function(){return t.removeItem(e,e instanceof g["default"])}),e instanceof g["default"]){var n=e.getFieldLayout();n&&this.$fieldLayoutContainer.append(n.$container)}if(this._items.push(e),this._updateItemOrder(),e instanceof g["default"]){var a=!0,o=!1,s=void 0;try{for(var p,l=this.getBlockTypes()[Symbol.iterator]();!(a=(p=l.next()).done);a=!0){var c=p.value,u=c.getSettings();u&&u.addChildBlockType(e,i)}}catch(y){o=!0,s=y}finally{try{!a&&l["return"]&&l["return"]()}finally{if(o)throw s}}}this.trigger("addItem",{item:e,index:i})},removeItem:function(e,t){if(t="boolean"==typeof t?t:!1){var i=c["default"].t("Are you sure you want to delete this {type}?",{type:e instanceof g["default"]?"block type":e instanceof x["default"]?"group":"item"});confirm(i)&&this.removeItem(e,!1)}else{var r=e.getSettings();if(this._itemSort.removeItems(e.$container),e.$container.remove(),r&&r.$container.remove(),e instanceof g["default"]){var n=e.getFieldLayout();n&&n.$container.remove()}this.removeListener(e.$container,"click"),e.off(".configurator"),this._updateItemOrder(),0===this._items.length&&this.$mainContainer.addClass("hidden"),this.trigger("removeItem",{item:e})}},getItems:function(){return Array.from(this._items)},getItemByElement:function(e){return this._items.find(function(t){return t.$container.is(e)})},getSelectedItem:function(){return this._items.find(function(e){return e.isSelected()})},selectItem:function(e,t){t="boolean"==typeof t?t:!0;var i=e?e.getSettings():null,r=!0,n=!1,a=void 0;try{for(var o,s=this._items[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;l.toggleSelect(l===e)}}catch(c){n=!0,a=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}t&&i&&!p["default"].isMobileBrowser()&&setTimeout(function(){return i.getFocusInput().focus()},100)},getBlockTypes:function(){return this._items.filter(function(e){return e instanceof g["default"]})},getGroups:function(){return this._items.filter(function(e){return e instanceof x["default"]})},selectTab:function(e){this.$settingsContainer.toggleClass("hidden","settings"!==e),this.$fieldLayoutContainer.toggleClass("hidden","fieldLayout"!==e),this.$settingsButton.toggleClass("is-selected","settings"===e),this.$fieldLayoutButton.toggleClass("is-selected","fieldLayout"===e)},_updateItemOrder:function(){var e=this,t=[];this._itemSort.$items.each(function(i,r){var n=e.getItemByElement(r);if(n){var a=n.getSettings();a&&a.setSortOrder(i+1),t.push(n)}}),this._items=t},"@newBlockType":function(){var e=[].concat(n(this._templateNs),["blockTypes"]),t=f["default"].getNewId(),i=new f["default"]({namespace:[].concat(n(e),[t]),sortOrder:this._items.length,id:t,childBlockTypes:this.getBlockTypes()}),r=new m["default"]({namespace:[].concat(n(e),[t]),html:this._fieldLayoutHtml,blockId:t}),a=new g["default"]({namespace:e,settings:i,fieldLayout:r}),o=this.getSelectedItem(),s=o?o.getSettings().getSortOrder():-1;this.addItem(a,s),this.selectItem(a)},"@newGroup":function(){var e=[].concat(n(this._templateNs),["groups"]),t=new k["default"]({namespace:e,sortOrder:this._items.length}),i=new x["default"]({namespace:e,settings:t}),r=this.getSelectedItem(),a=r?r.getSettings().getSortOrder():-1;this.addItem(i,a),this.selectItem(i)},"@selectItem":function(e){var t=this.getItemByElement(e.currentTarget);this.selectItem(t)}})},function(e,t){e.exports=jQuery},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=i(2),a=r(n);a["default"].fn.insertAt=function(e,t){return this.each(function(){0===e?t.prepend(this):t.children().eq(e-1).after(this)})}},function(e,t){e.exports=Garnish},function(e,t){e.exports=Craft},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={_stack:[[]],enter:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if("string"==typeof e&&(e=this.fromFieldName(e)),t){var r=this.getNamespace();r.push.apply(r,i(e)),e=r}this._stack.push(e)},enterByFieldName:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.enter(this.fromFieldName(e),t)},leave:function(){return this._stack.length>1?this._stack.pop():this.getNamespace()},getNamespace:function(){return Array.from(this._stack[this._stack.length-1])},parse:function(e){return"string"==typeof e?e.indexOf("[")>-1?this.fromFieldName(e):e.indexOf("-")>-1?e.split("-"):e.indexOf(".")>-1?e.split("."):e:Array.from(e)},value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"-":arguments[1],i=this.getNamespace();return i.push(e),i.join(t)},fieldName:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.toFieldName();return t?t+e.replace(/([^'"\[\]]+)([^'"]*)/,"[$1]$2"):e},toString:function(){var e=arguments.length<=0||void 0===arguments[0]?"-":arguments[0];return this.getNamespace().join(e)},toFieldName:function(){var e=this.getNamespace();switch(e.length){case 0:return"";case 1:return e[0]}return e[0]+"["+e.slice(1).join("][")+"]"},fromFieldName:function(e){return e.match(/[^\[\]\s]+/g)||[]}}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=(r(o),i(5)),p=(r(s),i(6)),l=r(p),c=i(8),u=r(c),y=i(9),d=(r(y),i(20)),g=(r(d),i(23)),h=r(g);i(19);var f={namespace:[],fieldLayout:null};t["default"]=u["default"].extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.base(t);var i=this.getSettings();t=Object.assign({},f,t),this._templateNs=l["default"].parse(t.namespace),this._fieldLayout=t.fieldLayout,l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,h["default"])({settings:i,fieldLayout:this._fieldLayout})),l["default"].leave();var r=this.$container.find("[data-neo-bt]");this.$nameText=r.filter('[data-neo-bt="text.name"]'),this.$moveButton=r.filter('[data-neo-bt="button.move"]'),i&&(i.on("change",function(){return e._updateTemplate()}),i.on("destroy",function(){return e.trigger("destroy")}),this._updateTemplate()),this.deselect()},getFieldLayout:function(){return this._fieldLayout},toggleSelect:function(e){this.base(e);var t=this.getSettings(),i=this.getFieldLayout(),r=this.isSelected();t&&t.$container.toggleClass("hidden",!r),i&&i.$container.toggleClass("hidden",!r),this.$container.toggleClass("is-selected",r)},_updateTemplate:function(){var e=this.getSettings(),t=this.getFieldLayout();e&&(this.$nameText.text(e.getName()),this.$container.toggleClass("is-child",!e.getTopLevel()),t&&t.setBlockName(e.getName()))}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=(r(n),i(4)),o=r(a),s={settings:null};t["default"]=o["default"].Base.extend({_selected:!1,init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},s,e),this._settings=e.settings},getSettings:function(){return this._settings},select:function(){this.toggleSelect(!0)},deselect:function(){this.toggleSelect(!1)},toggleSelect:function(e){this._selected="boolean"==typeof e?e:!this._selected,this.trigger("toggleSelect",{selected:this._selected})},isSelected:function(){return this._selected}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=r(o),p=i(5),l=r(p),c=i(6),u=r(c),y=i(10),d=r(y),g=i(11),h=r(g),f=i(18),v=r(f);i(19);var m={namespace:[],id:null,sortOrder:0,name:"",handle:"",maxBlocks:0,topLevel:!0,childBlocks:null,childBlockTypes:[],errors:{}};t["default"]=d["default"].extend({_templateNs:[],_childBlockTypes:[],$sortOrderInput:new a["default"],$nameInput:new a["default"],$handleInput:new a["default"],$maxBlocksInput:new a["default"],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},m,t),this._templateNs=u["default"].parse(t.namespace),this._childBlockTypes=[],this._id=t.id,this._errors=t.errors,this.setSortOrder(t.sortOrder),this.setName(t.name),this.setHandle(t.handle),this.setMaxBlocks(t.maxBlocks),this.setTopLevel(t.topLevel),u["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,h["default"])({id:this.getId(),sortOrder:this.getSortOrder(),name:this.getName(),handle:this.getHandle(),maxBlocks:this.getMaxBlocks(),topLevel:this.getTopLevel(),errors:this.getErrors()})),u["default"].leave();var i=this.$container.find("[data-neo-bts]");this.$sortOrderInput=i.filter('[data-neo-bts="input.sortOrder"]'),this.$nameInput=i.filter('[data-neo-bts="input.name"]'),this.$handleInput=i.filter('[data-neo-bts="input.handle"]'),this.$maxBlocksInput=i.filter('[data-neo-bts="input.maxBlocks"]'),this.$topLevelInput=i.filter('[data-neo-bts="input.topLevel"]'),this.$childBlocksInput=i.filter('[data-neo-bts="input.childBlocks"]'),this.$childBlocksContainer=i.filter('[data-neo-bts="container.childBlocks"]'),this.$deleteButton=i.filter('[data-neo-bts="button.delete"]'),l["default"].initUiElements(this.$container),this._childBlocksSelect=this.$childBlocksInput.data("checkboxSelect"),this._topLevelLightswitch=this.$topLevelInput.data("lightswitch"),this._handleGenerator=new l["default"].HandleGenerator(this.$nameInput,this.$handleInput);var r=!0,n=!1,o=void 0;try{for(var p,c=t.childBlockTypes[Symbol.iterator]();!(r=(p=c.next()).done);r=!0){var y=p.value;this.addChildBlockType(y)}}catch(d){n=!0,o=d}finally{try{!r&&c["return"]&&c["return"]()}finally{if(n)throw o}}this.setChildBlocks(t.childBlocks),s["default"].Base.prototype.on.call(this._topLevelLightswitch,"change",function(){return e.setTopLevel(e._topLevelLightswitch.on)}),this.addListener(this.$nameInput,"keyup change",function(){return e.setName(e.$nameInput.val())}),this.addListener(this.$handleInput,"keyup change textchange",function(){return e.setHandle(e.$handleInput.val())}),this.addListener(this.$maxBlocksInput,"keyup change",function(){return e.setMaxBlocks(e.$maxBlocksInput.val())}),this.addListener(this.$deleteButton,"click",function(){return e.destroy()})},getFocusInput:function(){return this.$nameInput},getId:function(){return this._id},isNew:function(){return/^new/.test(this.getId())},getErrors:function(){return this._errors},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){if(e!==this._name){var t=this._name;this._name=e,this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})}},getHandle:function(){return this._handle},setHandle:function(e){if(e!==this._handle){var t=this._handle;this._handle=e,this.$handleInput.val(this._handle),this.trigger("change",{property:"handle",oldValue:t,newValue:this._handle})}},getMaxBlocks:function(){return this._maxBlocks},setMaxBlocks:function(e){var t=this._maxBlocks,i=Math.max(0,0|e);0===i&&this.$maxBlocksInput.val(null),t!==i&&(this._maxBlocks=i,this._maxBlocks>0&&this.$maxBlocksInput.val(this._maxBlocks),this.trigger("change",{property:"maxBlocks",oldValue:t,newValue:this._maxBlocks}))},getTopLevel:function(){return this._topLevel},setTopLevel:function(e){var t=this._topLevel,i=!!e;t!==i&&(this._topLevel=i,this._topLevelLightswitch&&this._topLevelLightswitch.on!==this._topLevel&&(this._topLevelLightswitch.on=this._topLevel,this._topLevelLightswitch.toggle()),this.trigger("change",{property:"topLevel",oldValue:t,newValue:this._topLevel}))},getChildBlocks:function(){var e=this._childBlocksSelect,t=[];return e.$all.prop("checked")?!0:(e.$options.each(function(e){var i=(0,a["default"])(this);t.push(i.prop("checked"))}),t)},setChildBlocks:function(e){var t=this._childBlocksSelect;if(e===!0||"*"===e)t.$all.prop("checked",!0),t.onAllChange();else if(Array.isArray(e)){t.$all.prop("checked",!1);var i=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;t.$options.filter('[value="'+s+'"]').prop("checked",!0)}}catch(p){r=!0,n=p}finally{try{!i&&o["return"]&&o["return"]()}finally{if(r)throw n}}}else t.$all.prop("checked",!1),t.$options.prop("checked",!1)},addChildBlockType:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?-1:arguments[1];this._childBlockTypes.includes(e)||!function(){u["default"].enter(t._templateNs);var r=e.getSettings(),n=(0,a["default"])((0,v["default"])({id:"childBlock-"+r.getId(),name:"childBlocks",value:r.getHandle(),label:r.getName()}));u["default"].leave(),0>i||i>=t._childBlockTypes.length?(t._childBlockTypes.push(e),t.$childBlocksContainer.append(n)):(t._childBlockTypes.splice(i,0,e),n.insertAt(i,t.$childBlocksContainer));var o=t._childBlocksSelect,s=o.$all.prop("checked");o.$options=o.$options.add(n.find("input")),s&&o.onAllChange();var p=".childBlock"+t.getId();r.on("change"+p,function(i){return t["@onChildBlockTypeChange"](i,e,n)}),r.on("destroy"+p,function(i){return t.removeChildBlockType(e)})}()},removeChildBlockType:function(e){var t=this._childBlockTypes.indexOf(e);if(t>=0){this._childBlockTypes.splice(t,1);var i=e.getSettings(),r=this.$childBlocksContainer.children().eq(t);r.remove();var n=this._childBlocksSelect;n.$options=n.$options.remove(r.find("input"));var a=".childBlock"+this.getId();i.off(a)}},_refreshChildBlocks:function(){var e=Array.from(this._childBlockTypes),t=this.$childBlocksContainer.children(),i=function(i){return t.get(e.indexOf(i))};this._childBlockTypes=this._childBlockTypes.sort(function(e,t){return e.getSettings().getSortOrder()-t.getSettings().getSortOrder()}),t.remove();var r=!0,n=!1,a=void 0;try{for(var o,s=this._childBlockTypes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var p=o.value,l=i(p);this.$childBlocksContainer.append(l)}}catch(c){n=!0,a=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}},"@onChildBlockTypeChange":function(e,t,i){var r=i.find("[data-neo-btsc]"),n=r.filter('[data-neo-btsc="input"]'),a=r.filter('[data-neo-btsc="text.label"]');switch(e.property){case"name":a.text(e.newValue);break;case"handle":n.val(e.newValue);break;case"sortOrder":this._refreshChildBlocks()}}},{_totalNewBlockTypes:0,getNewId:function(){return"new"+this._totalNewBlockTypes++}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=r(o);t["default"]=s["default"].Base.extend({$container:new a["default"],_sortOrder:0,getSortOrder:function(){return this._sortOrder},setSortOrder:function(e){var t=this._sortOrder;this._sortOrder=0|e,t!==this._sortOrder&&this.trigger("change",{property:"sortOrder",oldValue:t,newValue:this._sortOrder})},getFocusElement:function(){return new a["default"]},destroy:function(){this.trigger("destroy")}})},function(e,t,i){i(12);var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\blocktype_settings.twig",data:[{type:"logic",token:{type:"Twig.logic.type.import",expression:"'../../macros.twig'",contextName:"macros",stack:[{type:"Twig.expression.type.string",value:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\macros.twig"}]}},{type:"raw",value:'\r\n\r\n<div>\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sortOrder"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sortOrder",match:["sortOrder"]}]},{type:"raw",value:'" data-neo-bts="input.sortOrder">\r\n\r\n	<div>\r\n		'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"What this block type will be called in the CP."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.name"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n\r\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"handle"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"handle"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Handle"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"How you'll refer to this block type in the templates."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"class"},{type:"Twig.expression.type.string",value:"code"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"handle",match:["handle"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"handle"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.handle"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n\r\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"number"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"maxBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"maxBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Max Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"The maximum number of blocks of this type the field is allowed to have."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"fullWidth"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.null",value:null},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"maxBlocks"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"min"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"style"},{type:"Twig.expression.type.string",value:"width: 80px;"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.maxBlocks"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n\r\n		"},{type:"logic",token:{type:"Twig.logic.type.set",key:"childBlocksId",expression:[{type:"Twig.expression.type.string",value:"childBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.set",key:"childBlocksName",expression:[{type:"Twig.expression.type.string",value:"childBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"childBlocksInput",output:[{type:"raw",value:'\r\n			<div class="checkbox-select" data-neo-bts="input.childBlocks">\r\n				<div>\r\n					<input type="hidden" name="'},{type:"output",
stack:[{type:"Twig.expression.type.variable",value:"childBlocksName",match:["childBlocksName"]}]},{type:"raw",value:'">\r\n					<input type="checkbox" value="*" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]}]},{type:"raw",value:'" class="all checkbox" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksName",match:["childBlocksName"]}]},{type:"raw",value:'">\r\n					<label for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]}]},{type:"raw",value:'"><strong>'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"All"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</strong></label>\r\n				</div>\r\n				<div data-neo-bts="container.childBlocks"></div>\r\n			</div>\r\n		'}]}},{type:"raw",value:"\r\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.variable",value:"childBlocksId",match:["childBlocksId"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Child Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"Which block types do you want to allow as children?"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"childBlocksInput",match:["childBlocksInput"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n\r\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"lightswitch",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"id"},{type:"Twig.expression.type.string",value:"topLevel"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"topLevel"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Top Level"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"Will this block type be allowed at the top level?"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"checked"},{type:"Twig.expression.type.variable",value:"topLevel",match:["topLevel"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.topLevel"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\r\n	</div>\r\n\r\n	<hr>\r\n\r\n	<a class="error delete" data-neo-bts="button.delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete block type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a>\r\n</div>\r\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\macros.twig",data:[{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"field",parameters:["settings"],output:[{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"label",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"label"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"instructions",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"instructions"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"required",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"required"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"locale",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"locale"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"input",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"input"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"warning",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"warning"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"errors",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"errors"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\r\n\r\n	<div class="field">\r\n		'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'\r\n			<div class="heading">\r\n				'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]}],output:[{type:"raw",value:"\r\n					<label"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"required",match:["required"]}],output:[{type:"raw",value:' class="required"'}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}],output:[{type:"raw",value:' for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:">\r\n						"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\r\n						"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}],output:[{type:"raw",value:'\r\n							<span class="locale">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}]},{type:"raw",value:"</span>\r\n						"}]}},{type:"raw",value:"\r\n					</label>\r\n				"}]}},{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]}],output:[{type:"raw",value:'\r\n					<div class="instructions">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"</div>\r\n				"}]}},{type:"raw",value:"\r\n			</div>\r\n		"}]}},{type:"raw",value:'\r\n		<div class="input '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"orientation",match:["orientation"]}]},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:" errors"}]}},{type:"raw",value:'">\r\n			'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\r\n		</div>\r\n		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}],output:[{type:"raw",value:'\r\n			<p class="warning">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}]},{type:"raw",value:"</p>\r\n		"}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:'\r\n			<ul class="errors">\r\n				'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"error",expression:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:"\r\n					<li>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"error",match:["error"]}]},{type:"raw",value:"</li>\r\n				"}]}},{type:"raw",value:"\r\n			</ul>\r\n		"}]}},{type:"raw",value:"\r\n	</div>\r\n"}]}},{type:"raw",value:"\r\n\r\n"},{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"input",parameters:["settings"],output:[{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.from",expression:"_self",macroNames:{field:"field"},stack:[{type:"Twig.expression.type.variable",value:"_self",match:["_self"]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"type"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"attributes"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"value",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"value"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"class",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"class"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"fullWidth",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"fullWidth"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n\r\n	"},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"input",output:[{type:"raw",value:'\r\n		<input class="text '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"fullWidth",match:["fullWidth"]},{type:"Twig.expression.type.string",value:"fullwidth"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"class",match:["class"]}]},{type:"raw",value:'"\r\n			   type="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]}]},{type:"raw",value:'"\r\n			   id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"\r\n			   name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'"\r\n			   value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"value",match:["value"]}]},{type:"raw",value:'"\r\n			   '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:"attrName",value_var:"attrValue",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]}],output:[{type:"raw",value:"\r\n		           "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrName",match:["attrName"]}]},{type:"raw",value:'="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrValue",match:["attrValue"]}]},{type:"raw",value:'"\r\n		       '}]}},{type:"raw",value:'\r\n			   autocomplete="off">\r\n	'}]}},{type:"raw",value:"\r\n\r\n	"},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"merge",match:["|merge","merge"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n"}]}},{type:"raw",value:"\r\n\r\n"},{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"lightswitch",parameters:["settings"],output:[{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.from",expression:"_self",macroNames:{field:"field"},stack:[{type:"Twig.expression.type.variable",value:"_self",match:["_self"]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"attributes"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"checked",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"checked"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n\r\n	"},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"input",output:[{type:"raw",value:'\r\n		<div class="lightswitch '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"checked",match:["checked"]},{type:"Twig.expression.type.string",value:"on"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" tabindex="0"\r\n		     '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:"attrName",value_var:"attrValue",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]}],output:[{type:"raw",value:"\r\n		         "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrName",match:["attrName"]}]},{type:"raw",value:'="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrValue",match:["attrValue"]}]},{type:"raw",value:'"\r\n		     '}]}},{type:"raw",value:'>\r\n			<div class="lightswitch-container">\r\n				<div class="label on"></div>\r\n				<div class="handle"></div>\r\n				<div class="label off"></div>\r\n			</div>\r\n			<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"checked",match:["checked"]},{type:"Twig.expression.type.string",value:"1"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'">\r\n		</div>\r\n	'}]}},{type:"raw",value:"\r\n\r\n	"},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"merge",match:["|merge","merge"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n"}]}}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r;(function(e){/**
	 * Twig.js 0.8.8
	 *
	 * @copyright 2011-2015 John Roepke and the Twig.js Contributors
	 * @license   Available under the BSD 2-Clause License
	 * @link      https://github.com/justjohn/twig.js
	 */
var n=function(e){return e.VERSION="0.8.8",e}(n||{}),n=function(e){"use strict";function t(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e}function r(e,t){var i=null;if("object"==typeof e&&"object"==typeof e.options&&(i=e.options.namespaces),"object"==typeof i&&t.indexOf("::")>0){for(var r in i)i.hasOwnProperty(r)&&(t=t.replace(r+"::",i[r]));return t}return n(e,t)}function n(t,r){var n,a,o,s="/",p=[];if(t.url)n="undefined"!=typeof t.base?t.base+("/"===t.base.charAt(t.base.length-1)?"":"/"):t.url;else if(t.path){var l=i(15),c=l.sep||s,u=new RegExp("^\\.{1,2}"+c.replace("\\","\\\\"));r=r.replace(/\//g,c),void 0!==t.base&&null==r.match(u)?(r=r.replace(t.base,""),n=t.base+c):n=l.normalize(t.path),n=n.replace(c+c,c),s=c}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");n=t.base||t.name||t.id}for(a=n.split(s),a.pop(),a=a.concat(r.split(s));a.length>0;)o=a.shift(),"."==o||(".."==o&&p.length>0&&".."!=p[p.length-1]?p.pop():p.push(o));return p.join(s)}return e.trace=!1,e.debug=!1,e.cache=!0,e.placeholders={parent:"{{|PARENT|}}"},e.indexOf=function(e,t){if(Array.prototype.hasOwnProperty("indexOf"))return e.indexOf(t);if(void 0===e||null===e)throw new TypeError;var i=Object(e),r=i.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var a=n>=0?n:Math.max(r-Math.abs(n),0);r>a;a++)if(a in i&&i[a]===t)return a;return e==t?0:-1},e.forEach=function(e,t,i){if(Array.prototype.forEach)return e.forEach(t,i);var r,n;if(null==e)throw new TypeError(" this is null or not defined");var a=Object(e),o=a.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(i&&(r=i),n=0;o>n;){var s;n in a&&(s=a[n],t.call(r,s,n,a)),n++}},e.merge=function(t,i,r){return e.forEach(Object.keys(i),function(e){(!r||e in t)&&(t[e]=i[e])}),t},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?"undefined"!=typeof console.error?e.log.error=function(){console.error.apply(console,arguments)}:"undefined"!=typeof console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(e){var t=function(){};return t.prototype=e,new t},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:e.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:e.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:e.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:e.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:e.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var i,r,n,a,o={position:null,close_position:null,def:null};for(i=0;i<e.token.definitions.length;i++)r=e.token.definitions[i],n=t.indexOf(r.open),a=t.indexOf(r.close),e.log.trace("Twig.token.findStart: ","Searching for ",r.open," found at ",n),n>=0&&r.open.length!==r.close.length&&0>a||(n>=0&&(null===o.position||n<o.position)?(o.position=n,o.def=r,o.close_position=a):n>=0&&null!==o.position&&n===o.position&&(r.open.length>o.def.open.length?(o.position=n,o.def=r,o.close_position=a):r.open.length===o.def.open.length&&(r.close.length>o.def.close.length?a>=0&&a<o.close_position&&(o.position=n,o.def=r,o.close_position=a):a>=0&&a<o.close_position&&(o.position=n,o.def=r,o.close_position=a))));return delete o.close_position,o},e.token.findEnd=function(t,i,r){for(var n,a,o=null,s=!1,p=0,l=null,c=null,u=null,y=null,d=null,g=null;!s;){if(l=null,c=null,u=t.indexOf(i.close,p),!(u>=0))throw new e.Error("Unable to find closing bracket '"+i.close+"' opened near template position "+r);if(o=u,s=!0,i.type===e.token.type.comment)break;if(i.type===e.token.type.raw)break;for(a=e.token.strings.length,n=0;a>n;n+=1)d=t.indexOf(e.token.strings[n],p),d>0&&u>d&&(null===l||l>d)&&(l=d,c=e.token.strings[n]);if(null!==l)for(y=l+1,o=null,s=!1;;){if(g=t.indexOf(c,y),0>g)throw"Unclosed string in template";if("\\"!==t.substr(g-1,1)){p=g+1;break}y=g+1}}return o},e.tokenize=function(t){for(var i=[],r=0,n=null,a=null;t.length>0;)if(n=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",n),null!==n.position){if(n.position>0&&i.push({type:e.token.type.raw,value:t.substring(0,n.position)}),t=t.substr(n.position+n.def.open.length),r+=n.position+n.def.open.length,a=e.token.findEnd(t,n.def,r),e.log.trace("Twig.tokenize: ","Token ends at ",a),i.push({type:n.def.type,value:t.substring(0,a).trim()}),"\n"===t.substr(a+n.def.close.length,1))switch(n.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1}t=t.substr(a+n.def.close.length),r+=a+n.def.close.length}else i.push({type:e.token.type.raw,value:t}),t="";return i},e.compile=function(t){try{for(var i=[],r=[],n=[],a=null,o=null,s=null,p=null,l=null,c=null,u=null,y=null,d=null,g=null,h=null,f=null,v=function(t){e.expression.compile.apply(this,[t]),r.length>0?n.push(t):i.push(t)},m=function(t){if(o=e.logic.compile.apply(this,[t]),g=o.type,h=e.logic.handler[g].open,f=e.logic.handler[g].next,e.log.trace("Twig.compile: ","Compiled logic token to ",o," next is: ",f," open is : ",h),void 0!==h&&!h){if(p=r.pop(),u=e.logic.handler[p.type],e.indexOf(u.next,g)<0)throw new Error(g+" not expected after a "+p.type);p.output=p.output||[],p.output=p.output.concat(n),n=[],d={type:e.token.type.logic,token:p},r.length>0?n.push(d):i.push(d)}void 0!==f&&f.length>0?(e.log.trace("Twig.compile: ","Pushing ",o," to logic stack."),r.length>0&&(p=r.pop(),p.output=p.output||[],p.output=p.output.concat(n),r.push(p),n=[]),r.push(o)):void 0!==h&&h&&(d={type:e.token.type.logic,token:o},r.length>0?n.push(d):i.push(d))};t.length>0;){switch(a=t.shift(),l=i[i.length-1],c=n[n.length-1],y=t[0],e.log.trace("Compiling token ",a),a.type){case e.token.type.raw:r.length>0?n.push(a):i.push(a);break;case e.token.type.logic:m.call(this,a);break;case e.token.type.comment:break;case e.token.type.output:v.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:switch(a.type!==e.token.type.output_whitespace_post&&a.type!==e.token.type.logic_whitespace_post&&(l&&l.type===e.token.type.raw&&(i.pop(),null===l.value.match(/^\s*$/)&&(l.value=l.value.trim(),i.push(l))),c&&c.type===e.token.type.raw&&(n.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),n.push(c)))),a.type){case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:v.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:m.call(this,a)}a.type!==e.token.type.output_whitespace_pre&&a.type!==e.token.type.logic_whitespace_pre&&y&&y.type===e.token.type.raw&&(t.shift(),null===y.value.match(/^\s*$/)&&(y.value=y.value.trim(),t.unshift(y)))}e.log.trace("Twig.compile: "," Output: ",i," Logic Stack: ",r," Pending Output: ",n)}if(r.length>0)throw s=r.pop(),new Error("Unable to find an end tag for "+s.type+", expecting one of "+s.next);return i}catch(b){if(e.log.error("Error compiling twig template "+this.id+": "),b.stack?e.log.error(b.stack):e.log.error(b.toString()),this.options.rethrow)throw b}},e.parse=function(t,i){try{var r=[],n=!0,a=this;return e.forEach(t,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:r.push(e.filters.raw(t.value));break;case e.token.type.logic:var o=t.token,s=e.logic.parse.apply(a,[o,i,n]);void 0!==s.chain&&(n=s.chain),void 0!==s.context&&(i=s.context),void 0!==s.output&&r.push(s.output);break;case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),r.push(e.expression.parse.apply(a,[t.stack,i]))}}),e.output.apply(this,[r])}catch(o){if(e.log.error("Error parsing twig template "+this.id+": "),o.stack?e.log.error(o.stack):e.log.error(o.toString()),this.options.rethrow)throw o;if(e.debug)return o.toString()}},e.prepare=function(t){var i,r;return e.log.debug("Twig.prepare: ","Tokenizing ",t),r=e.tokenize.apply(this,[t]),e.log.debug("Twig.prepare: ","Compiling ",r),i=e.compile.apply(this,[r]),e.log.debug("Twig.prepare: ","Compiled ",i),i},e.output=function(t){if(!this.options.autoescape)return t.join("");var i="html";"string"==typeof this.options.autoescape&&(i=this.options.autoescape);var r=[];return e.forEach(t,function(t){t&&t.twig_markup!==!0&&t.twig_markup!=i&&(t=e.filters.escape(t,[i])),r.push(t)}),e.Markup(r.join(""))},e.Templates={loaders:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,i,r){if("function"!=typeof i)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");r&&(i=i.bind(r)),this.loaders[t]=i},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return this.loaders.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,i,r,n){var a;return void 0===i.async&&(i.async=!0),void 0===i.id&&(i.id=t),e.cache&&e.Templates.registry.hasOwnProperty(i.id)?("function"==typeof r&&r(e.Templates.registry[i.id]),e.Templates.registry[i.id]):(a=this.loaders[i.method]||this.loaders.fs,a.apply(null,arguments))},e.Template=function(i){var r=i.data,n=i.id,a=i.blocks,o=i.macros||{},s=i.base,p=i.path,l=i.url,c=i.name,u=i.method,y=i.options;this.id=n,this.method=u,this.base=s,this.path=p,this.url=l,this.name=c,this.macros=o,this.options=y,this.reset(a),t("String",r)?this.tokens=e.prepare.apply(this,[r]):this.tokens=r,void 0!==n&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,i){i=i||{};var n,a;if(this.context=t||{},this.reset(),i.blocks&&(this.blocks=i.blocks),i.macros&&(this.macros=i.macros),n=e.parse.apply(this,[this.tokens,this.context]),this.extend){var o;return this.options.allowInlineIncludes&&(o=e.Templates.load(this.extend),o&&(o.options=this.options)),o||(a=r(this,this.extend),o=e.Templates.loadRemote(a,{method:this.getLoaderMethod(),base:this.base,async:!1,id:a,options:this.options})),this.parent=o,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==i.output?this.blocks:"macros"==i.output?this.macros:n},e.Template.prototype.importFile=function(t){var i,n;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?this.path+"/"+t:t,n=e.Templates.load(t),!n&&(n=e.Templates.loadRemote(i,{id:t,method:this.getLoaderMethod(),async:!1,options:this.options}),!n))throw new e.Error("Unable to find the template "+t);return n.options=this.options,n}return i=r(this,t),n=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:i})},e.Template.prototype.importBlocks=function(t,i){var r=this.importFile(t),n=this.context,a=this;i=i||!1,r.render(n),e.forEach(Object.keys(r.blocks),function(e){(i||void 0===a.blocks[e])&&(a.blocks[e]=r.blocks[e],a.importedBlocks.push(e))})},e.Template.prototype.importMacros=function(t){var i=r(this,t),n=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),async:!1,id:i});return n},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){return"undefined"==typeof t&&(t=!0),"string"==typeof e&&e.length>0&&(e=new String(e),e.twig_markup=t),e},e}(n||{});!function(e){"use strict";e.Templates.registerLoader("ajax",function(t,i,r,n){var a,o,s=i.precompiled;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return o=new XMLHttpRequest,o.onreadystatechange=function(){var p=null;4===o.readyState&&(200===o.status||window.cordova&&0==o.status?(e.log.debug("Got template ",o.responseText),p=s===!0?JSON.parse(o.responseText):o.responseText,i.url=t,i.data=p,a=new e.Template(i),"function"==typeof r&&r(a)):"function"==typeof n&&n(o))},o.open("GET",t,!!i.async),o.send(),i.async?!0:a})}(n),function(e){"use strict";var t,r;try{t=i(17),r=i(15)}catch(n){}e.Templates.registerLoader("fs",function(i,n,a,o){var s,p=null,l=n.precompiled;if(!t||!r)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var c=function(t,r){return t?void("function"==typeof o&&o(t)):(l===!0&&(r=JSON.parse(r)),n.data=r,n.path=i,s=new e.Template(n),void("function"==typeof a&&a(s)))};if(n.async)return t.stat(i,function(r,n){if(r||!n.isFile())throw new e.Error("Unable to find template file "+i);t.readFile(i,"utf8",c)}),!0;if(!t.statSync(i).isFile())throw new e.Error("Unable to find template file "+i);return p=t.readFileSync(i,"utf8"),c(void 0,p),s})}(n),function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i})}();var n=function(e){e.lib={};var t=function(){function e(){var t=arguments[0],i=e.cache;return i[t]&&i.hasOwnProperty(t)||(i[t]=e.parse(t)),e.format.call(null,i[t],arguments)}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return Array(t+1).join(e)}var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(n,a){var o,s,p,l,c,u,y,d=1,g=n.length,h="",f=[],v=!0,m="";for(s=0;g>s;s++)if(h=t(n[s]),"string"===h)f[f.length]=n[s];else if("array"===h){if(l=n[s],l[2])for(o=a[d],p=0;p<l[2].length;p++){if(!o.hasOwnProperty(l[2][p]))throw new Error(e("[sprintf] property '%s' does not exist",l[2][p]));o=o[l[2][p]]}else o=l[1]?a[l[1]]:a[d++];if("function"==t(o)&&(o=o()),r.not_string.test(l[8])&&r.not_json.test(l[8])&&"number"!=t(o)&&isNaN(o))throw new TypeError(e("[sprintf] expecting number but found %s",t(o)));switch(r.number.test(l[8])&&(v=o>=0),l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,l[6]?parseInt(l[6]):0);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"g":o=l[7]?parseFloat(o).toPrecision(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}r.json.test(l[8])?f[f.length]=o:(!r.number.test(l[8])||v&&!l[3]?m="":(m=v?"+":"-",o=o.toString().replace(r.sign,"")),u=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",y=l[6]-(m+o).length,c=l[6]&&y>0?i(u,y):"",f[f.length]=l[5]?m+o+c:"0"===u?m+c+o:c+m+o)}return f.join("")},e.cache={},e.parse=function(e){for(var t=e,i=[],n=[],a=0;t;){if(null!==(i=r.text.exec(t)))n[n.length]=i[0];else if(null!==(i=r.modulo.exec(t)))n[n.length]="%";else{if(null===(i=r.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){a|=1;var o=[],s=i[2],p=[];if(null===(p=r.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=p[1];""!==(s=s.substring(p[0].length));)if(null!==(p=r.key_access.exec(s)))o[o.length]=p[1];else{if(null===(p=r.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=p[1]}i[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}t=t.substring(i[0].length)}return n};var n=function(t,i,r){return r=(i||[]).slice(0),r.splice(0,0,t),e.apply(null,r)};return{sprintf:e,vsprintf:n}}(),i=t.sprintf,r=t.vsprintf;return e.lib.sprintf=i,e.lib.vsprintf=r,function(){function t(e){return(e=Math.abs(e)%100)%10==1&&11!=e?"st":e%10==2&&12!=e?"nd":e%10==3&&13!=e?"rd":"th"}function i(e){var t=new Date(e.getFullYear()+1,0,4);return 7>(t-e)/864e5&&(e.getDay()+6)%7<(t.getDay()+6)%7?t.getFullYear():e.getMonth()>0||e.getDate()>=4?e.getFullYear():e.getFullYear()-((e.getDay()+6)%7-e.getDate()>2?1:0)}function r(e){var t=new Date(i(e),0,4);return t.setDate(t.getDate()-(t.getDay()+6)%7),parseInt((e-t)/6048e5)+1}var n="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),a="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),o="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),s="January,February,March,April,May,June,July,August,September,October,November,December".split(",");e.lib.formatDate=function(e,p){if("string"!=typeof p||/^\s*$/.test(p))return e+"";var l=new Date(e.getFullYear(),0,1),c=e;return p.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisuU]/g,function(e){switch(e){case"d":return("0"+c.getDate()).replace(/^.+(..)$/,"$1");case"D":return n[c.getDay()];case"j":return c.getDate();case"l":return a[c.getDay()];case"N":return(c.getDay()+6)%7+1;case"S":return t(c.getDate());case"w":return c.getDay();case"z":return Math.ceil((l-c)/864e5);case"W":return("0"+r(c)).replace(/^.(..)$/,"$1");case"F":return s[c.getMonth()];case"m":return("0"+(c.getMonth()+1)).replace(/^.+(..)$/,"$1");case"M":return o[c.getMonth()];case"n":return c.getMonth()+1;case"t":return new Date(c.getFullYear(),c.getMonth()+1,-1).getDate();case"L":return 29==new Date(c.getFullYear(),1,29).getDate()?1:0;case"o":return i(c);case"Y":return c.getFullYear();case"y":return(c.getFullYear()+"").replace(/^.+(..)$/,"$1");case"a":return c.getHours()<12?"am":"pm";case"A":return c.getHours()<12?"AM":"PM";case"B":return Math.floor(1e3*((c.getUTCHours()+1)%24+c.getUTCMinutes()/60+c.getUTCSeconds()/3600)/24);case"g":return c.getHours()%12!=0?c.getHours()%12:12;case"G":return c.getHours();case"h":return("0"+(c.getHours()%12!=0?c.getHours()%12:12)).replace(/^.+(..)$/,"$1");case"H":return("0"+c.getHours()).replace(/^.+(..)$/,"$1");case"i":return("0"+c.getMinutes()).replace(/^.+(..)$/,"$1");case"s":return("0"+c.getSeconds()).replace(/^.+(..)$/,"$1");case"u":return c.getMilliseconds();case"U":return c.getTime()/1e3}})}}(),e.lib.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(r,"").replace(i,function(e,i){return t.indexOf("<"+i.toLowerCase()+">")>-1?e:""})},e.lib.parseISO8601Date=function(e){var t=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/,i=[];if(i=e.match(t),!i)throw"Couldn't parse ISO 8601 date string '"+e+"'";var r=[1,2,3,4,5,6,10,11];for(var n in r)i[r[n]]=parseInt(i[r[n]],10);i[7]=parseFloat(i[7]);var a=Date.UTC(i[1],i[2]-1,i[3],i[4],i[5],i[6]);if(i[7]>0&&(a+=Math.round(1e3*i[7])),"Z"!=i[8]&&i[10]){var o=60*i[10]*60*1e3;i[11]&&(o+=60*i[11]*1e3),"-"==i[9]?a-=o:a+=o}return new Date(a)},e.lib.strtotime=function(e,t){function i(e,t,i){var r,n=l[t];"undefined"!=typeof n&&(r=n-p.getDay(),0===r?r=7*i:r>0&&"last"===e?r-=7:0>r&&"next"===e&&(r+=7),p.setDate(p.getDate()+r))}function r(e){var t=e.split(" "),r=t[0],n=t[1].substring(0,3),a=/\d+/.test(r),o="ago"===t[2],s=("last"===r?-1:1)*(o?-1:1);if(a&&(s*=parseInt(r,10)),c.hasOwnProperty(n)&&!t[1].match(/^mon(day|\.)?$/i))return p["set"+c[n]](p["get"+c[n]]()+s);if("wee"===n)return p.setDate(p.getDate()+7*s);if("next"===r||"last"===r)i(r,n,s);else if(!a)return!1;return!0}var n,a,o,s,p,l,c,u,y,d,g,h=!1;if(!e)return h;if(e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase(),a=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/),a&&a[2]===a[4])if(a[1]>1901)switch(a[2]){case"-":return a[3]>12||a[5]>31?h:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return h;case"/":return a[3]>12||a[5]>31?h:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else if(a[5]>1901)switch(a[2]){case"-":return a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case"/":return a[1]>12||a[3]>31?h:new Date(a[5],parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else switch(a[2]){case"-":return a[3]>12||a[5]>31||a[1]<70&&a[1]>38?h:(s=a[1]>=0&&a[1]<=38?+a[1]+2e3:a[1],new Date(s,parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case".":return a[5]>=70?a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3:a[5]<60&&!a[6]?a[1]>23||a[3]>59?h:(o=new Date,new Date(o.getFullYear(),o.getMonth(),o.getDate(),a[1]||0,a[3]||0,a[5]||0,a[9]||0)/1e3):h;case"/":return a[1]>12||a[3]>31||a[5]<70&&a[5]>38?h:(s=a[5]>=0&&a[5]<=38?+a[5]+2e3:a[5],new Date(s,parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case":":return a[1]>23||a[3]>59||a[5]>59?h:(o=new Date,new Date(o.getFullYear(),o.getMonth(),o.getDate(),a[1]||0,a[3]||0,a[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(n=Date.parse(e)))return n/1e3|0;if((a=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/))&&("z"==a[4]?a[4]="Z":a[4].match(/^([\+-][0-9]{2})$/)&&(a[4]=a[4]+":00"),!isNaN(n=Date.parse(a[1]+"T"+a[2]+a[4]))))return n/1e3|0;if(p=t?new Date(1e3*t):new Date,l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},c={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},y="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",d="([+-]?\\d+\\s"+y+"|(last|next)\\s"+y+")(\\sago)?",a=e.match(new RegExp(d,"gi")),!a)return h;for(g=0,u=a.length;u>g;g++)if(!r(a[g]))return h;return p.getTime()/1e3},e.lib.is=function(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e},e.lib.copy=function(e){var t,i={};for(t in e)i[t]=e[t];return i},e.lib.replaceAll=function(e,t,i){return e.split(t).join(i)},e.lib.chunkArray=function(t,i){var r=[],n=0,a=t.length;if(1>i||!e.lib.is("Array",t))return[];for(;a>n;)r.push(t.slice(n,n+=i));return r},e.lib.round=function(e,t,i){var r,n,a,o;if(t|=0,r=Math.pow(10,t),e*=r,o=e>0|-(0>e),a=e%1===.5*o,n=Math.floor(e),a)switch(i){case"PHP_ROUND_HALF_DOWN":e=n+(0>o);break;case"PHP_ROUND_HALF_EVEN":e=n+n%2*o;break;case"PHP_ROUND_HALF_ODD":e=n+!(n%2);break;default:e=n+(o>0)}return(a?e:Math.round(e))/r},e.lib.max=function(){var e,t,i=0,r=0,n=arguments,a=n.length,o=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},s=function(e,t){var i=0,r=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=o(e),t=o(t),p=e.length,a=t.length,a>p)return 1;if(p>a)return-1;for(i=0,r=p;r>i;++i){if(n=s(e[i],t[i]),1==n)return 1;if(-1==n)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:0>e?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to max()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for max()");if(e=o(n[0]),0===e.length)throw new Error("Array must contain at least one element for max()")}else e=n;for(t=e[0],i=1,r=e.length;r>i;++i)1==s(t,e[i])&&(t=e[i]);return t},e.lib.min=function(){var e,t,i=0,r=0,n=arguments,a=n.length,o=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},s=function(e,t){var i=0,r=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=o(e),t=o(t),p=e.length,a=t.length,a>p)return 1;if(p>a)return-1;for(i=0,r=p;r>i;++i){if(n=s(e[i],t[i]),1==n)return 1;if(-1==n)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:0>e?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to min()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for min()");if(e=o(n[0]),0===e.length)throw new Error("Array must contain at least one element for min()")}else e=n;for(t=e[0],i=1,r=e.length;r>i;++i)-1==s(t,e[i])&&(t=e[i]);return t},e}(n||{}),n=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s+([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var i=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n="",a=e.expression.parse.apply(this,[t.stack,i]);return r=!0,a&&(r=!1,n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var i=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n="";return r&&e.expression.parse.apply(this,[t.stack,i])===!0&&(r=!1,n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,i,r){var n="";return r&&(n=e.parse.apply(this,[t.output,i])),{chain:r,output:n}}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var i=t.match[1],r=t.match[2],n=t.match[3],a=null;if(t.key_var=null,t.value_var=null,i.indexOf(",")>=0){if(a=i.split(","),2!==a.length)throw new e.Error("Invalid expression in for loop: "+i);t.key_var=a[0].trim(),t.value_var=a[1].trim()}else t.value_var=i;return t.expression=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,n&&(t.conditional=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack),delete t.match,t},parse:function(t,i,r){var n,a,o=e.expression.parse.apply(this,[t.expression,i]),s=[],p=0,l=this,c=t.conditional,u=function(e,t){var r=void 0!==c;return{index:e+1,index0:e,revindex:r?void 0:t-e,revindex0:r?void 0:t-e-1,first:0===e,last:r?void 0:e===t-1,length:r?void 0:t,parent:i}},y=function(r,a){var o=e.ChildContext(i);o[t.value_var]=a,t.key_var&&(o[t.key_var]=r),o.loop=u(p,n),(void 0===c||e.expression.parse.apply(l,[c,o]))&&(s.push(e.parse.apply(l,[t.output,o])),p+=1),delete o.loop,delete o[t.value_var],delete o[t.key_var],e.merge(i,o,!0)};return e.lib.is("Array",o)?(n=o.length,e.forEach(o,function(e){var t=p;y(t,e)})):e.lib.is("Object",o)&&(a=void 0!==o._keys?o._keys:Object.keys(o),n=a.length,e.forEach(a,function(e){"_keys"!==e&&y(e,o[e])})),r=0===s.length,{chain:r,output:e.output.apply(this,[s])}}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim(),r=t.match[2],n=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack;return t.key=i,t.expression=n,delete t.match,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.expression,i]),a=t.key;return i[a]=n,{chain:r,context:i}}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=t.key;return this.context[a]=n,i[a]=n,{chain:r,context:i}}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var i="|"+t.match[1].trim();return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,delete t.match,t},parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=[{type:e.expression.type.string,value:n}].concat(t.stack),o=e.expression.parse.apply(this,[a,i]);return{chain:r,output:o}}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,i,r){var n,a,o=this.importedBlocks.indexOf(t.block)>-1,s=this.blocks[t.block]&&this.blocks[t.block].indexOf(e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||o||s||i.loop||t.overwrite)&&(n=t.expression?e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.expression.parse.apply(this,[t.output,i])},i]):e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.parse.apply(this,[t.output,i])},i]),o&&this.importedBlocks.splice(this.importedBlocks.indexOf(t.block),1),
s?this.blocks[t.block]=e.Markup(this.blocks[t.block].replace(e.placeholders.parent,n)):this.blocks[t.block]=n,this.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}),a=this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block],{chain:r,output:a}}},{type:e.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,t.block=t.match[1].trim(),delete t.match,t},parse:function(t,i,r){return e.logic.handler[e.logic.type.block].parse.apply(this,arguments)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.stack,i]);return this.extend=n,{chain:r,output:""}}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n=e.expression.parse.apply(this,[t.stack,i]);return this.importBlocks(n),{chain:r,output:""}}},{type:e.logic.type.include,regex:/^include\s+(ignore missing\s+)?(.+?)\s*(?:with\s+([\S\s]+?))?\s*(only)?$/,next:[],open:!0,compile:function(t){var i=t.match,r=void 0!==i[1],n=i[2].trim(),a=i[3],o=void 0!==i[4]&&i[4].length;return delete t.match,t.only=o,t.includeMissing=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,i,r){var n,a,o,s={};if(t.only||(s=e.ChildContext(i)),void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,i]);for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,s]);return o=p instanceof e.Template?p:this.importFile(p),{chain:r,output:o.render(s)}}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,i,r){var n=e.parse.apply(this,[t.output,i]),a=/>\s+</g,o=n.replace(a,"><").trim();return{chain:r,output:o}}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){for(var i=t.match[1],r=t.match[2].split(/[\s,]+/),n=0;n<r.length;n++)for(var a=0;a<r.length;a++)if(r[n]===r[a]&&n!==a)throw new e.Error("Duplicate arguments for parameter: "+r[n]);return t.macroName=i,t.parameters=r,delete t.match,t},parse:function(t,i,r){var n=this;return this.macros[t.macroName]=function(){for(var i={_self:n.macros},r=0;r<t.parameters.length;r++){var a=t.parameters[r];"undefined"!=typeof arguments[r]?i[a]=arguments[r]:i[a]=void 0}return e.parse.apply(n,[t.output,i])},{chain:r,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var i=t.match[1].trim(),r=t.match[2].trim();return delete t.match,t.expression=i,t.contextName=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){if("_self"!==t.expression){var n=e.expression.parse.apply(this,[t.stack,i]),a=this.importFile(n||t.expression);i[t.contextName]=a.render({},{output:"macros"})}else i[t.contextName]=this.macros;return{chain:r,output:""}}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var i=t.match[1].trim(),r=t.match[2].trim().split(/[ ,]+/),n={},a=0;a<r.length;a++){var o=r[a],s=o.match(/^([a-zA-Z0-9_]+)\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/);s?n[s[1].trim()]=s[2].trim():o.match(/^([a-zA-Z0-9_]+)$/)&&(n[o]=o)}return delete t.match,t.expression=i,t.macroNames=n,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,t},parse:function(t,i,r){var n;if("_self"!==t.expression){var a=e.expression.parse.apply(this,[t.stack,i]),o=this.importFile(a||t.expression);n=o.render({},{output:"macros"})}else n=this.macros;for(var s in t.macroNames)n.hasOwnProperty(s)&&(i[t.macroNames[s]]=n[s]);return{chain:r,output:""}}},{type:e.logic.type.embed,regex:/^embed\s+(ignore missing\s+)?(.+?)\s*(?:with\s+(.+?))?\s*(only)?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var i=t.match,r=void 0!==i[1],n=i[2].trim(),a=i[3],o=void 0!==i[4]&&i[4].length;return delete t.match,t.only=o,t.includeMissing=r,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,i,r){var n,a,o,s={};if(!t.only)for(a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);if(void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,i]);for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,s]);o=p instanceof e.Template?p:this.importFile(p),this.blocks={};e.parse.apply(this,[t.output,s]);return{chain:r,output:o.render(s,{blocks:this.blocks})}}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1}],e.logic.handler={},e.logic.extendType=function(t,i){i=i||"Twig.logic.type"+t,e.logic.type[t]=i},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var i=t.value.trim(),r=e.logic.tokenize.apply(this,[i]),n=e.logic.handler[r.type];return n.compile&&(r=n.compile.apply(this,[r]),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",r)),r},e.logic.tokenize=function(t){var i={},r=null,n=null,a=null,o=null,s=null,p=null;t=t.trim();for(r in e.logic.handler)if(e.logic.handler.hasOwnProperty(r))for(n=e.logic.handler[r].type,a=e.logic.handler[r].regex,o=[],a instanceof Array?o=a:o.push(a);o.length>0;)if(s=o.shift(),p=s.exec(t.trim()),null!==p)return i.type=n,i.match=p,e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",p),i;throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,i,r){var n,a="";return i=i||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),n=e.logic.handler[t.type],n.parse&&(a=n.parse.apply(this,[t,i,r])),a},e}(n||{}),n=function(e){"use strict";e.expression={},e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets]),e.expression.fn={compile:{push:function(e,t,i){i.push(e)},push_both:function(e,t,i){i.push(e),t.push(e)}},parse:{push:function(e,t,i){t.push(e)},push_value:function(e,t,i){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n=i.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,r]),o=e.test(t.filter,n,a);"not"==t.modifier?i.push(!o):i.push(o)}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,i,r){var n,a=i.length-1;for(delete t.match,delete t.value;a>=0;a--){if(n=i.pop(),n.type===e.expression.type.object.start||n.type===e.expression.type.parameter.start||n.type===e.expression.type.array.start){i.push(n);break}r.push(n)}r.push(t)}},{type:e.expression.type.operator.binary,regex:/(^[\+\-~%\?\:]|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^and\s+|^or\s+|^in\s+|^not in\s+|^\.\.)/,next:e.expression.set.expressions.concat([e.expression.type.operator.unary]),compile:function(t,i,r){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);i.length>0&&(i[i.length-1].type==e.expression.type.operator.unary||i[i.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=i[i.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>i[i.length-1].precidence);){var o=i.pop();r.push(o)}if(":"===n){if(!i[i.length-1]||"?"!==i[i.length-1].value){var s=r.pop();if(s.type===e.expression.type.string||s.type===e.expression.type.variable)t.key=s.value;else if(s.type===e.expression.type.number)t.key=s.value.toString();else{if(s.type!==e.expression.type.parameter.end||!s.expression)throw new e.Error("Unexpected value before ':' of "+s.type+" = "+s.value);t.params=s.params}return void r.push(t)}}else i.push(a)},parse:function(t,i,r){t.key?i.push(t):t.params?(t.key=e.expression.parse.apply(this,[t.params,r]),i.push(t),delete t.params):e.expression.operator.parse(t.value,i)}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,i,r){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);i.length>0&&(i[i.length-1].type==e.expression.type.operator.unary||i[i.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=i[i.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>i[i.length-1].precidence);){var o=i.pop();r.push(o)}i.push(a)},parse:function(t,i,r){e.expression.operator.parse(t.value,i)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operations,compile:function(t,i,r){var n=t.value;delete t.match,n='"'===n.substring(0,1)?n.replace('\\"','"'):n.replace("\\'","'"),t.value=n.substring(1,n.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),r.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,i,r){var n,a=t;for(n=i.pop();i.length>0&&n.type!=e.expression.type.parameter.start;)r.push(n),n=i.pop();for(var o=[];t.type!==e.expression.type.parameter.start;)o.unshift(t),t=r.pop();o.unshift(t);t=r[r.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets&&t.type!==e.expression.type.key.period?(a.expression=!0,o.pop(),o.shift(),a.params=o,r.push(a)):(a.expression=!1,t.params=o)},parse:function(t,i,r){var n=[],a=!1,o=null;if(t.expression)o=e.expression.parse.apply(this,[t.params,r]),i.push(o);else{for(;i.length>0;){if(o=i.pop(),o&&o.type&&o.type==e.expression.type.parameter.start){a=!0;break}n.unshift(o)}if(!a)throw new e.Error("Expected end of parameter set.");i.push(n)}}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,i,r){for(var n,a=i.length-1;a>=0&&(n=i.pop(),n.type!==e.expression.type.array.start);a--)r.push(n);r.push(t)},parse:function(t,i,r){for(var n=[],a=!1,o=null;i.length>0;){if(o=i.pop(),o.type&&o.type==e.expression.type.array.start){a=!0;break}n.unshift(o)}if(!a)throw new e.Error("Expected end of array.");i.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,i,r){for(var n,a=i.length-1;a>=0&&(n=i.pop(),!n||n.type!==e.expression.type.object.start);a--)r.push(n);r.push(t)},parse:function(t,i,r){for(var n={},a=!1,o=null,s=!1,p=null;i.length>0;){if(o=i.pop(),o&&o.type&&o.type===e.expression.type.object.start){a=!0;break}if(o&&o.type&&(o.type===e.expression.type.operator.binary||o.type===e.expression.type.operator.unary)&&o.key){if(!s)throw new e.Error("Missing value for key '"+o.key+"' in object definition.");n[o.key]=p,void 0===n._keys&&(n._keys=[]),n._keys.unshift(o.key),p=null,s=!1}else s=!0,p=o}if(!a)throw new e.Error("Unexpected end of object.");i.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.value=e.match[1],i.push(e)},parse:function(t,i,r){var n=i.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,r]);i.push(e.filter.apply(this,[t.value,n,a]))}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,transform:function(e,t){return"("},compile:function(e,t,i){var r=e.match[1];e.fn=r,delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),o=t.fn;if(e.functions[o])n=e.functions[o].apply(this,a);else{if("function"!=typeof r[o])throw new e.Error(o+" function does not exist and is not defined in the context");n=r[o].apply(r,a)}i.push(n)}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,i){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,i,r){var n=e.expression.resolve(r[t.value],r);i.push(n)}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,i){e.key=e.match[1],delete e.match,delete e.value,i.push(e)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),o=t.key,s=i.pop();if(null===s||void 0===s){if(this.options.strict_variables)throw new e.Error("Can't access a key "+o+" on an null or undefined object.");return null}var p=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};n="object"==typeof s&&o in s?s[o]:void 0!==s["get"+p(o)]?s["get"+p(o)]:void 0!==s["is"+p(o)]?s["is"+p(o)]:null,i.push(e.expression.resolve(n,s,a))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,i,r){var n=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:n}).stack,r.push(t)},parse:function(t,i,r){var n,a=t.params&&e.expression.parse.apply(this,[t.params,r]),o=e.expression.parse.apply(this,[t.stack,r]),s=i.pop();if(null===s||void 0===s){if(this.options.strict_variables)throw new e.Error("Can't access a key "+o+" on an null or undefined object.");return null}n="object"==typeof s&&o in s?s[o]:null,i.push(e.expression.resolve(n,s,a))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,i){delete e.match,e.value=null,i.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,i){t.push(i)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,i){e.value=Number(e.value),i.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,i){e.value="true"===e.match[0].toLowerCase(),delete e.match,i.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(e,t,i){return"function"==typeof e?e.apply(t,i||[]):e},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var i,r,n,a,o,s,p=[],l=0,c=null,u=[];for(s=function(){var t=Array.prototype.slice.apply(arguments);t.pop(),t.pop();return e.log.trace("Twig.expression.tokenize","Matched a ",i," regular expression of ",t),c&&e.indexOf(c,i)<0?(u.push(i+" cannot follow a "+p[p.length-1].type+" at template:"+l+" near '"+t[0].substring(0,20)+"...'"),t[0]):e.expression.handler[i].validate&&!e.expression.handler[i].validate(t,p)?t[0]:(u=[],p.push({type:i,value:t[0],match:t}),o=!0,c=a,l+=t[0].length,e.expression.handler[i].transform?e.expression.handler[i].transform(t,p):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(i in e.expression.handler)if(e.expression.handler.hasOwnProperty(i)){for(a=e.expression.handler[i].next,r=e.expression.handler[i].regex,n=r instanceof Array?r:[r],o=!1;n.length>0;)r=n.pop(),t=t.replace(r,s);if(o)break}if(!o)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",p),p},e.expression.compile=function(t){var i=t.value,r=e.expression.tokenize(i),n=null,a=[],o=[],s=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",i);r.length>0;)n=r.shift(),s=e.expression.handler[n.type],e.log.trace("Twig.expression.compile: ","Compiling ",n),s.compile&&s.compile(n,o,a),e.log.trace("Twig.expression.compile: ","Stack is",o),e.log.trace("Twig.expression.compile: ","Output is",a);for(;o.length>0;)a.push(o.pop());return e.log.trace("Twig.expression.compile: ","Final output is",a),t.stack=a,delete t.value,t},e.expression.parse=function(t,i){var r=this;t instanceof Array||(t=[t]);var n=[],a=null;return e.forEach(t,function(t){a=e.expression.handler[t.type],a.parse&&a.parse.apply(r,[t,n,i])}),n.pop()},e}(n||{}),n=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var i;for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0;return!1};return e.expression.operator.lookup=function(t,i){switch(t){case"..":case"not in":case"in":i.precidence=20,i.associativity=e.expression.operator.leftToRight;break;case",":i.precidence=18,i.associativity=e.expression.operator.leftToRight;break;case"?":case":":i.precidence=16,i.associativity=e.expression.operator.rightToLeft;break;case"or":i.precidence=14,i.associativity=e.expression.operator.leftToRight;break;case"and":i.precidence=13,i.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":i.precidence=9,i.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":i.precidence=8,i.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":i.precidence=6,i.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":i.precidence=5,i.associativity=e.expression.operator.leftToRight;break;case"not":i.precidence=3,i.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error(t+" is an unknown operator.")}return i.operator=t,i},e.expression.operator.parse=function(i,r){e.log.trace("Twig.expression.operator.parse: ","Handling ",i);var n,a,o;switch(i){case":":break;case"?":o=r.pop(),a=r.pop(),n=r.pop(),n?r.push(a):r.push(o);break;case"+":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n+a);break;case"-":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n-a);break;case"*":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n*a);break;case"/":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n/a);break;case"//":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(parseInt(n/a));break;case"%":a=parseFloat(r.pop()),n=parseFloat(r.pop()),r.push(n%a);break;case"~":a=r.pop(),n=r.pop(),r.push((null!=n?n.toString():"")+(null!=a?a.toString():""));break;case"not":case"!":r.push(!r.pop());break;case"<":a=r.pop(),n=r.pop(),r.push(a>n);break;case"<=":a=r.pop(),n=r.pop(),r.push(a>=n);break;case">":a=r.pop(),n=r.pop(),r.push(n>a);break;case">=":a=r.pop(),n=r.pop(),r.push(n>=a);break;case"===":a=r.pop(),n=r.pop(),r.push(n===a);break;case"==":a=r.pop(),n=r.pop(),r.push(n==a);break;case"!==":a=r.pop(),n=r.pop(),r.push(n!==a);break;case"!=":a=r.pop(),n=r.pop(),r.push(n!=a);break;case"or":a=r.pop(),n=r.pop(),r.push(n||a);break;case"and":a=r.pop(),n=r.pop(),r.push(n&&a);break;case"**":a=r.pop(),n=r.pop(),r.push(Math.pow(n,a));break;case"not in":a=r.pop(),n=r.pop(),r.push(!t(n,a));break;case"in":a=r.pop(),n=r.pop(),r.push(t(n,a));break;case"..":a=r.pop(),n=r.pop(),r.push(e.functions.range(n,a));break;default:throw new e.Error(i+" is an unknown operator.")}},e}(n||{}),n=function(e){function t(e,t){var i=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&i===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var i=e._keys||Object.keys(e).reverse();return e._keys=i,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var i=Object.keys(e),r=i.sort(function(t,i){var r;return e[t]>e[i]==!(e[t]<=e[i])?e[t]>e[i]?1:e[t]<e[i]?-1:0:isNaN(r=parseFloat(e[t]))||isNaN(b1=parseFloat(e[i]))?"string"==typeof e[t]?e[t]>e[i].toString()?1:e[t]<e[i].toString()?-1:0:"string"==typeof e[i]?e[t].toString()>e[i]?1:e[t].toString()<e[i]?-1:0:null:r>b1?1:r<b1?-1:0});return e._keys=r,e}},keys:function(t){if(void 0!==t&&null!==t){var i=t._keys||Object.keys(t),r=[];return e.forEach(i,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&r.push(e)}),r}},url_encode:function(e){if(void 0!==e&&null!==e){var t=encodeURIComponent(e);return t=t.replace("'","%27")}},join:function(i,r){if(void 0!==i&&null!==i){var n="",a=[],o=null;return r&&r[0]&&(n=r[0]),t("Array",i)?a=i:(o=i._keys||Object.keys(i),e.forEach(o,function(e){"_keys"!==e&&i.hasOwnProperty(e)&&a.push(i[e])})),a.join(n)}},"default":function(t,i){if(void 0!==i&&i.length>1)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?void 0===i?"":i[0]:t},json_encode:function(i){if(void 0===i||null===i)return"null";if("object"==typeof i&&t("Array",i))return n=[],e.forEach(i,function(t){n.push(e.filters.json_encode(t))}),"["+n.join(",")+"]";if("object"==typeof i){var r=i._keys||Object.keys(i),n=[];return e.forEach(r,function(t){n.push(JSON.stringify(t)+":"+e.filters.json_encode(i[t]))}),"{"+n.join(",")+"}"}return JSON.stringify(i)},merge:function(i,r){var n=[],a=0,o=[];if(t("Array",i)?e.forEach(r,function(e){t("Array",e)||(n={})}):n={},t("Array",n)||(n._keys=[]),t("Array",i)?e.forEach(i,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(o=i._keys||Object.keys(i),e.forEach(o,function(e){n[e]=i[e],n._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)})),e.forEach(r,function(i){t("Array",i)?e.forEach(i,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(o=i._keys||Object.keys(i),e.forEach(o,function(e){n[e]||n._keys.push(e),n[e]=i[e];var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)}))}),0===r.length)throw new e.Error("Filter merge expects at least one parameter");return n},date:function(t,i){var r=e.functions.date(t),n=i&&i.length?i[0]:"F j, Y H:i";return e.lib.formatDate(r,n)},date_modify:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||1!==i.length)throw new e.Error("date_modify filter expects 1 argument");var r,n=i[0];return e.lib.is("Date",t)&&(r=e.lib.strtotime(n,t.getTime()/1e3)),e.lib.is("String",t)&&(r=e.lib.strtotime(n,e.lib.strtotime(t))),e.lib.is("Number",t)&&(r=e.lib.strtotime(n,t)),new Date(1e3*r)}},replace:function(t,i){if(void 0!==t&&null!==t){var r,n=i[0];for(r in n)n.hasOwnProperty(r)&&"_keys"!==r&&(t=e.lib.replaceAll(t,r,n[r]));return t}},format:function(t,i){return void 0!==t&&null!==t?e.lib.vsprintf(t,i):void 0},striptags:function(t){return void 0!==t&&null!==t?e.lib.strip_tags(t):void 0},escape:function(t,i){if(void 0!==t&&null!==t){var r="html";if(i&&i.length&&i[0]!==!0&&(r=i[0]),"html"==r){var n=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return e.Markup(n,"html")}if("js"==r){for(var n=t.toString(),a="",o=0;o<n.length;o++)if(n[o].match(/^[a-zA-Z0-9,\._]$/))a+=n[o];else{var s=n.charCodeAt(o);a+=128>s?"\\x"+s.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",s.toString(16).toUpperCase())}return e.Markup(a,"js")}if("css"==r){for(var n=t.toString(),a="",o=0;o<n.length;o++)if(n[o].match(/^[a-zA-Z0-9]$/))a+=n[o];else{var s=n.charCodeAt(o);a+="\\"+s.toString(16).toUpperCase()+" "}return e.Markup(a,"css")}if("url"==r){var a=e.filters.url_encode(t);return e.Markup(a,"url")}if("html_attr"==r){for(var n=t.toString(),a="",o=0;o<n.length;o++)if(n[o].match(/^[a-zA-Z0-9,\.\-_]$/))a+=n[o];else if(n[o].match(/^[&<>"]$/))a+=n[o].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var s=n.charCodeAt(o);a+=31>=s&&9!=s&&10!=s&&13!=s?"&#xFFFD;":128>s?e.lib.sprintf("&#x%02s;",s.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",s.toString(16).toUpperCase())}return e.Markup(a,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,i){return e.filters.escape(t,i)},nl2br:function(t){if(void 0!==t&&null!==t){var i="BACKSLASH_n_replace",r="<br />"+i;return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,i,"\n"),e.Markup(t)}},number_format:function(e,t){var i=e,r=t&&t[0]?t[0]:void 0,n=t&&void 0!==t[1]?t[1]:".",a=t&&void 0!==t[2]?t[2]:",";i=(i+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+i)?+i:0,s=isFinite(+r)?Math.abs(r):0,p="",l=function(e,t){var i=Math.pow(10,t);return""+Math.round(e*i)/i};return p=(s?l(o,s):""+Math.round(o)).split("."),p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(p[1]||"").length<s&&(p[1]=p[1]||"",p[1]+=new Array(s-p[1].length+1).join("0")),p.join(n)},trim:function(t,i){if(void 0!==t&&null!==t){var r,n=e.filters.escape(""+t);r=i&&i[0]?""+i[0]:" \n\r	\f\x0B            ​\u2028\u2029　";for(var a=0;a<n.length;a++)if(-1===r.indexOf(n.charAt(a))){n=n.substring(a);break}for(a=n.length-1;a>=0;a--)if(-1===r.indexOf(n.charAt(a))){n=n.substring(0,a+1);break}return-1===r.indexOf(n.charAt(0))?n:""}},truncate:function(e,t){var i=30,r=!1,n="...";if(e+="",t&&(t[0]&&(i=t[0]),t[1]&&(r=t[1]),t[2]&&(n=t[2])),e.length>i){if(r&&(i=e.indexOf(" ",i),-1===i))return e;e=e.substr(0,i)+n}return e},slice:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||i.length<1)throw new e.Error("slice filter expects at least 1 argument");var r=i[0]||0,n=i.length>1?i[1]:t.length,a=r>=0?r:Math.max(t.length+r,0);if(e.lib.is("Array",t)){for(var o=[],s=a;a+n>s&&s<t.length;s++)o.push(t[s]);return o}if(e.lib.is("String",t))return t.substr(a,n);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){return void 0!==e&&null!==e?Math.abs(e):void 0},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,i){if(void 0!==t&&null!==t){if(void 0===i||i.length<1||i.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var r=i[0],n=i[1],a=t.split(r);if(void 0===n)return a;if(0>n)return t.split(r,a.length+n);var o=[];if(""==r)for(;a.length>0;){for(var s="",p=0;n>p&&a.length>0;p++)s+=a.shift();o.push(s)}else{for(var p=0;n-1>p&&a.length>0;p++)o.push(a.shift());a.length>0&&o.push(a.join(r))}return o}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var i;return i=void 0===t._keys?Object.keys(t):t._keys,t[i[i.length-1]]}return t[t.length-1]},raw:function(t){return e.Markup(t)},batch:function(t,i){var r,n,a,o=i.shift(),s=i.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",o))throw new e.Error("batch filter expects size to be a number");if(o=Math.ceil(o),r=e.lib.chunkArray(t,o),s&&t.length%o!=0){for(n=r.pop(),a=o-n.length;a--;)n.push(s);r.push(n)}return r},round:function(t,i){i=i||[];var r=i.length>0?i[0]:0,n=i.length>1?i[1]:"common";if(t=parseFloat(t),r&&!e.lib.is("Number",r))throw new e.Error("round filter expects precision to be a number");if("common"===n)return e.lib.round(t,r);if(!e.lib.is("Function",Math[n]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[n](t*Math.pow(10,r))/Math.pow(10,r)}},e.filter=function(t,i,r){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].apply(this,[i,r])},e.filter.extend=function(t,i){e.filters[t]=i},e}(n||{}),n=function(e){return e.functions={range:function(e,t,i){var r,n,a,o=[],s=i||1,p=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(p=!0,r=e.charCodeAt(0),n=t.charCodeAt(0)):(r=isNaN(e)?0:e,n=isNaN(t)?0:t):(r=parseInt(e,10),n=parseInt(t,10)),a=!(r>n))for(;n>=r;)o.push(p?String.fromCharCode(r):r),r+=s;else for(;r>=n;)o.push(p?String.fromCharCode(r):r),r-=s;return o},cycle:function(e,t){var i=t%e.length;return e[i]},dump:function(){var t="\n",i="  ",r=0,n="",a=Array.prototype.slice.call(arguments),o=function(e){
for(var t="";e>0;)e--,t+=i;return t},s=function(e){n+=o(r),"object"==typeof e?p(e):"function"==typeof e?n+="function()"+t:"string"==typeof e?n+="string("+e.length+') "'+e+'"'+t:"number"==typeof e?n+="number("+e+")"+t:"boolean"==typeof e&&(n+="bool("+e+")"+t)},p=function(e){var i;if(null===e)n+="NULL"+t;else if(void 0===e)n+="undefined"+t;else if("object"==typeof e){n+=o(r)+typeof e,r++,n+="("+function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(e)+") {"+t;for(i in e)n+=o(r)+"["+i+"]=> "+t,s(e[i]);r--,n+=o(r)+"}"+t}else s(e)};return 0==a.length&&a.push(this.context),e.forEach(a,function(e){p(e)}),n},date:function(t,i){var r;if(void 0===t)r=new Date;else if(e.lib.is("Date",t))r=t;else if(e.lib.is("String",t))r=t.match(/^[0-9]+$/)?new Date(1e3*t):new Date(1e3*e.lib.strtotime(t));else{if(!e.lib.is("Number",t))throw new e.Error("Unable to parse date "+t);r=new Date(1e3*t)}return r},block:function(t){return this.originalBlockTokens[t]?e.logic.parse.apply(this,[this.originalBlockTokens[t],this.context]).output:this.blocks[t]},parent:function(){return e.placeholders.parent},attribute:function(t,i,r){return e.lib.is("Object",t)&&t.hasOwnProperty(i)?"function"==typeof t[i]?t[i].apply(void 0,r):t[i]:t[i]||void 0},max:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.max(t)):e.lib.max.apply(null,arguments)},min:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.min(t)):e.lib.min.apply(null,arguments)},template_from_string:function(t){return void 0===t&&(t=""),new e.Template({options:this.options,data:t})},random:function(t){function i(e){var t=Math.floor(Math.random()*r),i=[0,e],n=Math.min.apply(null,i),a=Math.max.apply(null,i);return n+Math.floor((a-n+1)*t/r)}var r=2147483648;if(e.lib.is("Number",t))return i(t);if(e.lib.is("String",t))return t.charAt(i(t.length-1));if(e.lib.is("Array",t))return t[i(t.length-1)];if(e.lib.is("Object",t)){var n=Object.keys(t);return t[n[i(n.length-1)]]}return i(r-1)}},e._function=function(t,i,r){if(!e.functions[t])throw"Unable to find function "+t;return e.functions[t](i,r)},e._function.extend=function(t,i){e.functions[t]=i},e}(n||{}),n=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},"null":function(e){return this.none(e)},sameas:function(e,t){return e===t[0]},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,i,r){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](i,r)},e.test.extend=function(t,i){e.tests[t]=i},e}(n||{}),n=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var i=t.id,r={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&i&&e.validateId(i),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return new e.Template({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,module:t.module,id:i,options:r});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||i||void 0,{id:i,method:t.method,base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:i,method:"ajax",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:i,method:"fs",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0},e.exports.extendFilter=function(t,i){e.filter.extend(t,i)},e.exports.extendFunction=function(t,i){e._function.extend(t,i)},e.exports.extendTest=function(t,i){e.test.extend(t,i)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,i){var r,n=i.filename,a=i.filename;return r=new e.Template({data:t,path:a,id:n,options:i.settings["twig options"]}),function(e){return r.render(e)}},e.exports.renderFile=function(t,i,r){"function"==typeof i&&(r=i,i={}),i=i||{};var n=i.settings||{},a={path:t,base:n.views,load:function(e){r(null,e.render(i))}},o=n["twig options"];if(o)for(var s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);e.exports.twig(a)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e}(n||{}),n=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,i){var r,n=JSON.stringify(t.tokens),a=t.id;if(i.module){if(void 0===e.compiler.module[i.module])throw new e.Error("Unable to find module type "+i.module);r=e.compiler.module[i.module](a,n,i.twig)}else r=e.compiler.wrap(a,n);return r},e.compiler.module={amd:function(t,i,r){return'define(["'+r+'"], function (Twig) {\n	var twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,i)+"\n	return templates;\n});"},node:function(t,i){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,i)},cjs2:function(t,i,r){return'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n	var twig = require("twig").twig;\n	exports.template = '+e.compiler.wrap(t,i)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}(n||{});"undefined"!=typeof e&&e.declare?e.declare([],function(e,t,i){for(key in n.exports)n.exports.hasOwnProperty(key)&&(t[key]=n.exports[key])}):(r=function(){return n.exports}.call(t,i,t,e),!(void 0!==r&&(e.exports=r)))}).call(t,i(14)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,i){(function(e){function i(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return t=i(r(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===o(e,-1);return e=i(r(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,i){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var n=r(e.split("/")),a=r(i.split("/")),o=Math.min(n.length,a.length),s=o,p=0;o>p;p++)if(n[p]!==a[p]){s=p;break}for(var l=[],p=s;p<n.length;p++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},t.basename=function(e,t){var i=a(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return 0>t&&(t=e.length+t),e.substr(t,i)}}).call(t,i(16))},function(e,t){function i(){l=!1,o.length?p=o.concat(p):c=-1,p.length&&r()}function r(){if(!l){var e=setTimeout(i);l=!0;for(var t=p.length;t;){for(o=p,p=[];++c<t;)o&&o[c].run();c=-1,t=p.length}o=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function a(){}var o,s=e.exports={},p=[],l=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new n(e,t)),1!==p.length||l||setTimeout(r,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\blocktype_settings_checkbox.twig",data:[{type:"raw",value:'<div>\r\n	<input type="checkbox" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"value",match:["value"]}]},{type:"raw",value:'" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" class="checkbox" name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'[]" data-neo-btsc="input">\r\n	<label for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"id"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'" data-neo-btsc="text.label">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]}]},{type:"raw",value:"</label>\r\n</div>\r\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var n=i(13),a=r(n),o=i(5),s=r(o),p=i(6),l=r(p);a["default"].extendFilter("t",function(e,t){return s["default"].t(e,t)}),a["default"].extendFilter("ns",function(e){var t=arguments.length<=1||void 0===arguments[1]?"field":arguments[1];switch(t){case"input":case"field":return l["default"].fieldName(e);case"id":return l["default"].value(e,"-");case"js":return l["default"].value(e,".")}return l["default"].value(e,"-")});var c=0;a["default"].extendFunction("uniqueId",function(){return"uid"+c++})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=r(o),p=i(5),l=r(p),c=i(6),u=r(c),y=i(21),d=r(y),g=i(22),h=r(g),f={namespace:[],html:"",layout:[],id:-1,blockId:null,blockName:""};t["default"]=s["default"].Base.extend({_templateNs:[],_blockName:"",init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},f,e),this._templateNs=u["default"].parse(e.namespace),this._id=0|e.id,this._blockId=e.blockId,this.setBlockName(e.blockName),this.$container=(0,a["default"])(e.html),this.$container.removeAttr("id"),u["default"].enter(this._templateNs),this._fld=new l["default"].FieldLayoutDesigner(this.$container,{customizableTabs:!0,fieldInputName:u["default"].fieldName("fieldLayout[__TAB_NAME__][]"),requiredFieldInputName:u["default"].fieldName("requiredFields[]")}),u["default"].leave(),this.$instructions=this.$container.find(".instructions");var t=!0,i=!1,r=void 0;try{for(var n,o=e.layout[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var s=n.value,p=this.addTab(s.name),c=!0,y=!1,d=void 0;try{for(var g,h=s.fields[Symbol.iterator]();!(c=(g=h.next()).done);c=!0){var v=g.value;this.addFieldToTab(p,v.id,1==v.required)}}catch(m){y=!0,d=m}finally{try{!c&&h["return"]&&h["return"]()}finally{if(y)throw d}}}}catch(m){i=!0,r=m}finally{try{!t&&o["return"]&&o["return"]()}finally{if(i)throw r}}this._patchFLD(),this._updateInstructions(),this._setupBlankTabs(),this._initReasonsPlugin(),this._initRelabelPlugin(),this._initQuickFieldPlugin()},getId:function(){return this._id},getBlockId:function(){return this._blockId},getBlockName:function(){return this._blockName},setBlockName:function(e){this._blockName=e,this._updateInstructions()},addTab:function(){var e=arguments.length<=0||void 0===arguments[0]?"Tab"+(this._fld.tabGrid.$items.length+1):arguments[0],t=this._fld,i=(0,a["default"])('\n			<div class="fld-tab">\n				<div class="tabs">\n					<div class="tab sel draggable">\n						<span>'+e+'</span>\n						<a class="settings icon" title="'+l["default"].t("Rename")+'"></a>\n					</div>\n				</div>\n				<div class="fld-tabcontent"></div>\n			</div>\n		').appendTo(t.$tabContainer);t.tabGrid.addItems(i),t.tabDrag.addItems(i);var r=this.$container.next(),n=this.$container.parent();return this.$container.appendTo(document.body),t.initTab(i),r.length>0?r.before(this.$container):n.append(this.$container),this._setupBlankTab(i),i},addFieldToTab:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];i=!!i;var r=this._fld.$allFields.filter('[data-id="'+t+'"]'),n=r.closest(".fld-tab"),o=r.clone().removeClass("unused"),s=e.find(".fld-tabcontent");r.addClass("hidden"),0===r.siblings(":not(.hidden)").length&&(n.addClass("hidden"),this._fld.unusedFieldGrid.removeItems(n));var p=o.find(".id-input");if(0===p.length){var c=e.find(".tab > span").text(),u=this._fld.getFieldInputName(c);p=(0,a["default"])('<input class="id-input" type="hidden" name="'+u+'" value="'+t+'">'),o.append(p)}o.prepend('<a class="settings icon" title="'+l["default"].t("Edit")+'"></a>'),s.append(o),this._fld.initField(o),this._fld.fieldDrag.addItems(o),this.toggleFieldRequire(t,i)},toggleFieldRequire:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=this._fld.$tabContainer.find('[data-id="'+e+'"]'),r=i.hasClass("fld-required");if(null===t||t!==r){var n=i.find(".settings"),a=n.data("menubtn"),o=a.menu,s=o.$options,p=s.filter(".toggle-required");this._fld.toggleRequiredField(i,p)}},_patchFLD:function(){var e=this,t=function(t,i){var r=e._fld[t];e._fld[t]=function(){var e=r.apply(this,arguments);return i.apply(this,arguments),e}};t("initTab",function(t){return e._setupBlankTab(t)}),t("renameTab",function(t){return e._setupBlankTab(t)})},_updateInstructions:function(){this.$instructions&&this.$instructions.html(l["default"].t("For block type {blockType}",{blockType:this.getBlockName()||"&hellip;"}))},_initReasonsPlugin:function(){var e=l["default"].ReasonsPlugin;if(e){var t=(0,d["default"])(e.FieldLayoutDesigner),i=this.getBlockId(),r=e.Neo.conditionals[i];this._reasons=new t(this.$container,r,i)}},_destroyReasonsPlugin:function(){this._reasons&&this._reasons.destroy()},_setupBlankTab:function(e){e=(0,a["default"])(e),e.children(".nc_blanktab").remove();var t=e.find(".tab > span").text(),i=this._fld.getFieldInputName(t);i=i.substr(0,i.length-2),e.prepend('<input type="hidden" class="nc_blanktab" name="'+i+'">')},_setupBlankTabs:function(){var e=this._fld.$tabContainer.children(".fld-tab"),t=this;e.each(function(){t._setupBlankTab(this)})},_initRelabelPlugin:function(){if(this._fld.relabel){var e=this._fld.relabel,t=this.getBlockId();e.namespace="neo[relabel]["+t+"]",e.applyLabels(this.getId()),this._relabel=e}},_initQuickFieldPlugin:function(){if(h["default"]){var e=new h["default"](this._fld),t=h["default"].getNewGroups(),i=h["default"].getNewFields(),r=!0,n=!1,a=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var p=o.value,l=t[p];e.addGroup(p,l.name)}}catch(c){n=!0,a=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}var u=!0,y=!1,d=void 0;try{for(var g,f=Object.keys(i)[Symbol.iterator]();!(u=(g=f.next()).done);u=!0){var v=g.value,m=i[v];e.addField(v,m.name,m.groupName)}}catch(c){y=!0,d=c}finally{try{!u&&f["return"]&&f["return"]()}finally{if(y)throw d}}this._quickField=e}}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),p=function y(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:y(n,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},l=i(4),c=r(l),u=0;t["default"]=function(e){return function(e){function t(e,i,r){n(this,t);var o=a(this,Object.getPrototypeOf(t).call(this,e,i));return o._blockId=r,o.settings.formSelector=".fieldlayoutform",o.patchInit(),o}return o(t,e),s(t,[{key:"patchInit",value:function(){var e=this;0===u&&c["default"].$doc.on("click.neoReasons",".menu a",function(t){return e.patchOnFieldSettingsMenuItemClick(t)}),this.onFieldSettingsMenuItemClick=function(){},p(Object.getPrototypeOf(t.prototype),"init",this).call(this),this.$conditionalsInput.prop("name","neo[reasons]["+this._blockId+"]"),this.$conditionalsIdInput.prop("name","neo[reasonsId]["+this._blockId+"]"),u++}},{key:"destroy",value:function(){u=Math.max(u-1,0),0===u&&c["default"].$doc.off(".neoReasons")}},{key:"patchOnFieldSettingsMenuItemClick",value:function(e){p(Object.getPrototypeOf(t.prototype),"onFieldSettingsMenuItemClick",this).call(this,e)}}]),t}(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={},r={};t["default"]=window.QuickField?QuickField.extend({addField:function(e,t,r){this.base(e,t,r),i[e]={name:t,groupName:r}},removeField:function(e){this.base(e),delete i[e]},resetField:function(e,t,r){this.base(e,t,r),i[e]={name:r,groupName:t}},addGroup:function(e,t){this.base(e,t),r[e]={name:t}}},{getNewFields:function(){return Object.assign({},i)},getNewGroups:function(){return Object.assign({},r)}}):!1},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\blocktype.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getId",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n"},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n"},{type:"logic",token:{type:"Twig.logic.type.set",key:"errors",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getErrors",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\r\n\r\n<div class="nc_sidebar_list_item '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"},{type:"Twig.expression.type.string",value:"has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'">\r\n	<div class="label" data-neo-bt="text.name">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'</div>\r\n	<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-bt="button.move"></a>\r\n</div>\r\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=(r(o),i(5)),p=(r(s),i(6)),l=r(p),c=i(8),u=r(c),y=i(25),d=(r(y),i(27)),g=r(d);i(19);var h={namespace:[]};t["default"]=u["default"].extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.base(t),t=Object.assign({},h,t);var i=this.getSettings();this._templateNs=l["default"].parse(t.namespace),l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,g["default"])({settings:i})),l["default"].leave();var r=this.$container.find("[data-neo-g]");this.$nameText=r.filter('[data-neo-g="text.name"]'),this.$moveButton=r.filter('[data-neo-g="button.move"]'),i&&(i.on("change",function(){return e._updateTemplate()}),i.on("destroy",function(){return e.trigger("destroy")})),this.deselect()},toggleSelect:function(e){this.base(e);var t=this.getSettings(),i=this.isSelected();t&&t.$container.toggleClass("hidden",!i),this.$container.toggleClass("is-selected",i)},_updateTemplate:function(){var e=this.getSettings();e&&this.$nameText.text(e.getName())}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),a=r(n),o=i(4),s=(r(o),i(5)),p=(r(s),i(6)),l=r(p),c=i(10),u=r(c),y=i(26),d=r(y);i(19);var g={namespace:[],sortOrder:0,name:""};t["default"]=u["default"].extend({_templateNs:[],$sortOrderInput:new a["default"],$nameInput:new a["default"],$handleInput:new a["default"],$maxBlocksInput:new a["default"],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},g,t),this._templateNs=l["default"].parse(t.namespace),this.setSortOrder(t.sortOrder),this.setName(t.name),l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,d["default"])({sortOrder:this.getSortOrder(),name:this.getName()})),l["default"].leave();var i=this.$container.find("[data-neo-gs]");this.$sortOrderInput=i.filter('[data-neo-gs="input.sortOrder"]'),this.$nameInput=i.filter('[data-neo-gs="input.name"]'),this.$deleteButton=i.filter('[data-neo-gs="button.delete"]'),this.addListener(this.$nameInput,"keyup change",function(){return e.setName(e.$nameInput.val())}),this.addListener(this.$deleteButton,"click",function(){return e.destroy()})},getFocusInput:function(){return this.$nameInput},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){if(e!==this._name){var t=this._name;this._name=e,this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})}}})},function(e,t,i){i(12);var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\group_settings.twig",data:[{type:"logic",token:{type:"Twig.logic.type.import",expression:"'../../macros.twig'",contextName:"macros",stack:[{type:"Twig.expression.type.string",value:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\macros.twig"}]}},{type:"raw",value:'\r\n\r\n<div>\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sortOrder"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.string",value:"[]"},{type:"Twig.expression.type.operator.binary",value:"~",precidence:6,associativity:"leftToRight",operator:"~"}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sortOrder",match:["sortOrder"]}]},{type:"raw",value:'" data-neo-gs="input.sortOrder">\r\n\r\n	<div>\r\n		'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.string",value:"[]"},{type:"Twig.expression.type.operator.binary",value:"~",precidence:6,associativity:"leftToRight",operator:"~"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"This can be left blank if you just want an unlabeled separator."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-gs"},{type:"Twig.expression.type.string",value:"input.name"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\r\n	</div>\r\n\r\n	<hr>\r\n\r\n	<a class="error delete" data-neo-gs="button.delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete group"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a>\r\n</div>\r\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\group.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\r\n\r\n<div class="nc_sidebar_list_item type-heading">\r\n	<div class="label" data-neo-g="text.name">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'</div>\r\n	<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-g="button.move"></a>\r\n</div>\r\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\configurator\\templates\\configurator.twig",data:[{type:"raw",value:'<div class="nc_sidebar" data-neo="container.sidebar">\r\n	<div class="nc_sidebar_title">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Block Types"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</div>\r\n	<div class="nc_sidebar_list" data-neo="container.blockTypes"></div>\r\n	<div class="nc_sidebar_buttons btngroup">\r\n		<a class="btn add icon" role="button" data-neo="button.blockType">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Block type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\r\n		<a class="btn type-heading" role="button" data-neo="button.group">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Group"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\r\n	</div>\r\n</div>\r\n\r\n<div class="nc_main" data-neo="container.main">\r\n	<div class="nc_main_tabs">\r\n		<a class="nc_main_tabs_tab is-selected" role="button" data-neo="button.settings">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Settings"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\r\n		<a class="nc_main_tabs_tab" role="button" data-neo="button.fieldLayout">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Field Layout"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\r\n	</div>\r\n	<div class="nc_main_content" data-neo="container.settings"></div>\r\n	<div class="nc_main_content" data-neo="container.fieldLayout"></div>\r\n</div>\r\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(30);"string"==typeof r&&(r=[[e.id,r,""]]);i(32)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(31)(),t.push([e.id,".neo-configurator>.field>.input{display:flex;min-height:400px}[data-neo='template.fld']{display:none}.nc_sidebar{width:200px;border-top-left-radius:3px;border-bottom-left-radius:3px;border:1px solid #ebebeb;background-color:#fafafa}.nc_sidebar_title{padding:10px 24px;border-top-left-radius:3px;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6);color:#8f98a3}.nc_sidebar_list{margin:0 -1px}.nc_sidebar_list:not(:empty){padding-top:10px}.nc_sidebar_list_item{cursor:default;position:relative;margin-top:-1px;padding:10px 14px 10px 40px;border:1px solid #ebebeb;background-color:#fcfcfc;transition:margin-left .15s}.nc_sidebar_list_item:before{content:'';display:block;position:absolute;top:-1px;bottom:-1px;left:0;width:0;border-top:1px solid #ebebeb;border-bottom:1px solid #ebebeb;background-color:#fafafa;transition:left .15s,width .15s}.nc_sidebar_list_item>.label{color:#29323d}.nc_sidebar_list_item>.label:empty{font-style:italic;color:#8f98a3}.nc_sidebar_list_item>.label:empty:before{content:\"(blank)\"}.nc_sidebar_list_item>.move{display:block;position:absolute;top:11px;left:7px;width:24px;text-align:center}.nc_sidebar_list_item.is-selected{z-index:1;border-color:#dedede;background-color:#ececec}.nc_sidebar_list_item.is-child{margin-left:10px}.nc_sidebar_list_item.is-child:before{left:-10px;width:9px}.nc_sidebar_list_item.has-errors{z-index:2;border-color:#efc7c7;background-color:#f9e0e0}.nc_sidebar_list_item.has-errors>.label{color:#da5a47}.nc_sidebar_list_item.has-errors.is-selected{border-color:#e1bbbb;background-color:#efc7c7}.nc_sidebar_list_item.type-heading{margin-top:9px}.nc_sidebar_list_item.type-heading:first-child{margin-top:0}.nc_sidebar_list_item.type-heading>.label{font-size:11px;font-weight:700;text-transform:uppercase;color:#b9bfc6}.nc_sidebar_list_item.type-heading>.label:empty{font-weight:400;color:#8f98a3}.nc_sidebar_buttons{padding:14px}.nc_sidebar_buttons>.btn.type-heading{font-size:11px;font-weight:700;text-transform:uppercase;color:#b9bfc6}.nc_main{flex-grow:1;flex-shrink:9999;border-top-right-radius:3px;border-bottom-right-radius:3px;border:1px solid #ebebeb}body.ltr .nc_main{border-left:0}body.rtl .nc_main{border-right:0}.nc_main_tabs{display:flex;border-top-right-radius:3px;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6)}.nc_main_tabs_tab{display:block;padding:10px 24px;color:#555}.nc_main_tabs_tab:hover{text-decoration:none;color:#0d78f2}.nc_main_tabs_tab.is-selected{margin-bottom:-1px;padding-bottom:11px;border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;background-color:#fff;color:#29323d}body.ltr .nc_main_tabs_tab.is-selected:first-child{border-left:0}body.rtl .nc_main_tabs_tab.is-selected:first-child{border-right:0}.nc_main_content{padding:24px}.nc_main_content .fieldlayoutform .tab{background:transparent;box-shadow:none}.nc_main_content .fieldlayoutform .fld-field{margin-top:7px}.nc_main_content .fieldlayoutform .fld-tabcontent:not(:empty){padding-top:6px}.nc_main_content .checkbox+label{color:#576575}.nc_main_content .checkbox+label:empty:after{content:'(blank)';font-size:inherit;font-style:italic;color:#8f98a3}body.ltr .nc_main_content .checkbox+label:empty{padding-left:20px}body.rtl .nc_main_content .checkbox+label:empty{padding-right:20px}",""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(r[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&r[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(e,t,i){function r(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=d[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(l(r.parts[a],t))}else{for(var o=[],a=0;a<r.parts.length;a++)o.push(l(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:o}}}}function n(e){for(var t=[],i={},r=0;r<e.length;r++){var n=e[r],a=n[0],o=n[1],s=n[2],p=n[3],l={css:o,media:s,sourceMap:p};i[a]?i[a].parts.push(l):t.push(i[a]={id:a,parts:[l]})}return t}function a(e,t){var i=f(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?i.insertBefore(t,r.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function p(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var i,r,n;if(t.singleton){var a=m++;i=v||(v=s(t)),r=c.bind(null,i,a,!1),n=c.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=p(t),r=y.bind(null,i),n=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),r=u.bind(null,i),n=function(){o(i)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function c(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function u(e,t){var i=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function y(e,t){var i=t.css,r=(t.media,t.sourceMap);r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var d={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=g(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var i=n(e);return r(i,t),function(e){for(var a=[],o=0;o<i.length;o++){var s=i[o],p=d[s.id];p.refs--,a.push(p)}if(e){var l=n(e);r(l,t)}for(var o=0;o<a.length;o++){var p=a[o];if(0===p.refs){for(var c=0;c<p.parts.length;c++)p.parts[c]();delete d[p.id]}}}};var x=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=i(2),s=r(o);i(3);var p=i(4),l=r(p),c=i(5),u=r(c),y=i(6),d=r(y),g=i(34),h=r(g),f=i(36),v=r(f),m=i(37),b=r(m),x=i(40),w=r(x),k=i(42),T=r(k);i(19),i(43);var _={namespace:[],blockTypes:[],groups:[],blocks:[],inputId:null,maxBlocks:0,"static":!1};t["default"]=l["default"].Base.extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},_,t),this._templateNs=d["default"].parse(t.namespace),this._blockTypes=[],this._groups=[],this._blocks=[],this._maxBlocks=t.maxBlocks,this._static=t["static"],d["default"].enter(this._templateNs),this.$container=(0,s["default"])("#"+t.inputId).append((0,T["default"])({blockTypes:t.blockTypes,"static":this._static})),d["default"].leave();var i=!0,r=!1,o=void 0;try{for(var p,c=t.blockTypes[Symbol.iterator]();!(i=(p=c.next()).done);i=!0){var u=p.value,y=new h["default"](u);this._blockTypes.push(y),this._blockTypes[y.getHandle()]=y}}catch(g){r=!0,o=g}finally{try{!i&&c["return"]&&c["return"]()}finally{if(r)throw o}}var f=!0,m=!1,x=void 0;try{for(var k,B=t.groups[Symbol.iterator]();!(f=(k=B.next()).done);f=!0){var $=k.value,O=new v["default"]($);this._groups.push(O)}}catch(g){m=!0,x=g}finally{try{!f&&B["return"]&&B["return"]()}finally{if(m)throw x}}var L=this.$container.find("[data-neo]");this.$blocksContainer=L.filter('[data-neo="container.blocks"]'),this.$buttonsContainer=L.filter('[data-neo="container.buttons"]'),this._buttons=new w["default"]({blockTypes:this.getBlockTypes(!0),groups:this.getGroups(),maxBlocks:this.getMaxBlocks()}),this.$buttonsContainer.append(this._buttons.$container),this._buttons.on("newBlock",function(t){return e["@newBlock"](t)}),this._buttons.initUi(),this._blockSort=new l["default"].DragSort(null,{container:this.$blocksContainer,handle:'[data-neo-b="button.move"]',axis:"y",filter:function(){if(!e._blockSort.$targetItem.hasClass("is-selected"))return e._blockSort.$targetItem;var t=function(){var t=e._blockSort.$targetItem.parent();return{v:e._blockSelect.getSelectedItems().filter(function(e,i){return(0,s["default"])(i).parent().is(t)})}}();return"object"===("undefined"==typeof t?"undefined":a(t))?t.v:void 0},collapseDraggees:!0,magnetStrength:4,helperLagBase:1.5,helperOpacity:.9,onSortChange:function(){return e._updateBlockOrder()}}),this._blockSelect=new l["default"].Select(this.$blocksContainer,null,{multi:!0,vertical:!0,handle:'[data-neo-b="select"]',checkboxMode:!0,selectedClass:"is-selected sel"});var I=!0,S=!1,C=void 0;try{for(var j,N=t.blocks[Symbol.iterator]();!(I=(j=N.next()).done);I=!0){var E=j.value,A=this._blockTypes[E.blockType];isNaN(parseInt(E.id))&&(E.id=b["default"].getNewId()),E.modified=!1,E.namespace=[].concat(n(this._templateNs),[E.id]),E.blockType=new h["default"]({id:A.getId(),fieldLayoutId:A.getFieldLayoutId(),name:A.getName(),handle:A.getHandle(),maxBlocks:A.getMaxBlocks(),childBlocks:A.getChildBlocks(),topLevel:A.getTopLevel(),tabs:E.tabs}),E.buttons=new w["default"]({items:A.getChildBlockItems(this.getItems()),maxBlocks:this.getMaxBlocks()});var M=new b["default"](E);this.addBlock(M,-1,0|E.level,!1)}}catch(g){S=!0,C=g}finally{try{!I&&N["return"]&&N["return"]()}finally{if(S)throw C}}},addBlock:function(e){var t=arguments.length<=1||void 0===arguments[1]?-1:arguments[1],i=this,r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=this._blocks.length;t=t>=0?Math.max(0,Math.min(t,a)):a,n="boolean"==typeof n?n:!0;var o=t>0?this._blocks[t-1]:!1,s=a>t?this._blocks[t]:!1;if(o){var p=s?s.getLevel():0,c=o.getLevel()+(o.getBlockType().isParent()?1:0);r=Math.max(p,Math.min(r,c));var y=this._findPrevBlockOnLevel(t,r);y?y.$container.after(e.$container):o.$blocksContainer.prepend(e.$container)}else this.$blocksContainer.prepend(e.$container);e.setLevel(r),this._blocks.push(e),this._blockSort.addItems(e.$container),this._blockSelect.addItems(e.$container),e.initUi(),e.on("destroy.input",function(t){i.getSelectedBlocks().length>1?confirm(u["default"].t("Are you sure you want to delete the selected blocks?"))&&i._blockBatch(e,function(e){return i.removeBlock(e)}):i.removeBlock(e)}),e.on("toggleEnabled.input",function(t){return i._blockBatch(e,function(e){return e.toggleEnabled(t.enabled)})}),e.on("toggleExpansion.input",function(t){return i._blockBatch(e,function(e){return e.toggleExpansion(t.expanded)})}),e.on("newBlock.input",function(t){return i["@newBlock"](Object.assign(t,{index:i._getNextBlockIndex(e)}))}),e.on("addBlockAbove.input",function(e){return i["@addBlockAbove"](e)}),e.on("duplicateBlock.input",function(e){return i["@duplicateBlock"](e)}),this._destroyTempButtons(),this._updateButtons(),this._updateBlockOrder(),n&&e.$container.css({opacity:0,marginBottom:-e.$container.outerHeight()}).velocity({opacity:1,marginBottom:10},"fast",function(t){return l["default"].requestAnimationFrame(function(){return l["default"].scrollContainerToElement(e.$container)})}),this.trigger("addBlock",{block:e,index:t})},removeBlock:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];t="boolean"==typeof t?t:!0,i="boolean"==typeof i?i:!1;var r=this._findChildBlocks(this._blocks.indexOf(e)),n=!0,a=!1,o=void 0;try{for(var s,p=r[Symbol.iterator]();!(n=(s=p.next()).done);n=!0){var l=s.value;this.removeBlock(l,!0,!0)}}catch(c){a=!0,o=c}finally{try{!n&&p["return"]&&p["return"]()}finally{if(a)throw o}}e.off(".input"),this._blocks=this._blocks.filter(function(t){return t!==e}),this._blockSort.removeItems(e.$container),this._blockSelect.removeItems(e.$container),this._destroyTempButtons(),this._updateButtons(),t?e.$container.css({opacity:1,marginBottom:10}).velocity({opacity:0,marginBottom:i?10:-e.$container.outerHeight()},"fast",function(t){return e.$container.remove()}):e.$container.remove(),this.trigger("removeBlock",{block:e})},getBlockByElement:function(e){return this._blocks.find(function(t){return t.$container.is(e)})},getBlocks:function(){return Array.from(this._blocks)},getBlockTypeById:function(e){return this._blockTypes.find(function(t){return t.getId()==e})},getBlockTypes:function(e){return e="boolean"==typeof e?e:!1,e?this._blockTypes.filter(function(e){return e.getTopLevel()}):Array.from(this._blockTypes)},getGroups:function(){return Array.from(this._groups)},getItems:function(){return[].concat(n(this.getBlockTypes()),n(this.getGroups())).sort(function(e,t){return e.getSortOrder()-t.getSortOrder()})},getMaxBlocks:function(){return this._maxBlocks},getSelectedBlocks:function(){var e=this._blockSelect.getSelectedItems();return this._blocks.filter(function(t){return t.$container.closest(e).length>0})},_updateBlockOrder:function(){var e=this,t=[];this._blockSort.$items.each(function(i,r){var n=e.getBlockByElement(r);t.push(n)}),this._blocks=t},_updateButtons:function(){var e=this.getBlocks();this._buttons.updateButtonStates(e),this._tempButtons&&this._tempButtons.updateButtonStates(e);var t=!0,i=!1,r=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var o=n.value;o.updateMenuStates(e,this.getMaxBlocks());var s=o.getButtons();s&&s.updateButtonStates(e)}}catch(p){i=!0,r=p}finally{try{!t&&a["return"]&&a["return"]()}finally{if(i)throw r}}},_blockBatch:function(e,t){var i=e.isSelected()?this.getSelectedBlocks():[e],r=!0,n=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var p=o.value;t(p)}}catch(l){n=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(n)throw a}}},_destroyTempButtons:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];t="boolean"==typeof t?t:!0,this._tempButtons&&!function(){var i=e._tempButtons;i.off("newBlock"),t?i.$container.css({opacity:1,marginBottom:10}).velocity({opacity:0,marginBottom:-i.$container.outerHeight()},"fast",function(e){return i.$container.remove()}):i.$container.remove(),e._tempButtons=null}()},_findPrevBlockOnLevel:function(e,t){e instanceof b["default"]&&(e=this._blocks.indexOf(e));for(var i=this._blocks,r=i[--e],n=Number.MAX_VALUE;r;){var a=r.getLevel();if(n>a){if(a===t)return r;n=a}r=this._blocks[--e]}return!1},_findChildBlocks:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];e instanceof b["default"]&&(e=this._blocks.indexOf(e)),t="boolean"==typeof t?t:!1;var i=this._blocks,r=i[e],n=[];if(r)for(var a=r.getLevel(),o=i[++e];o&&o.getLevel()>a;){var s=o.getLevel();(t?s>a:s===a+1)&&n.push(o),o=i[++e]}return n},_findParentBlock:function(e){e instanceof b["default"]&&(e=this._blocks.indexOf(e));var t=this._blocks,i=t[e];if(i){var r=i.getLevel();if(r>0){for(var n=e,a=i;a&&a.getLevel()>=r;)a=t[--n];return a}}return null},_getNextBlockIndex:function(e){e instanceof b["default"]&&(e=this._blocks.indexOf(e));var t=this._findChildBlocks(e,!0),i=t[t.length-1];return(i?this._blocks.indexOf(i):e)+1},"@newBlock":function(e){var t=b["default"].getNewId(),i=new b["default"]({namespace:[].concat(n(this._templateNs),[t]),blockType:e.blockType,id:t,buttons:new w["default"]({items:e.blockType.getChildBlockItems(this.getItems()),maxBlocks:this.getMaxBlocks()})});this.addBlock(i,e.index,e.level)},"@addBlockAbove":function(e){var t=this;this._destroyTempButtons();var i=e.block,r=this._blocks.indexOf(i),n=this._findParentBlock(r),a=void 0;if(n){var o=n.getBlockType();a=new w["default"]({items:o.getChildBlockItems(this.getItems()),maxBlocks:this.getMaxBlocks(),blocks:this.getBlocks()})}else a=new w["default"]({blockTypes:this.getBlockTypes(!0),groups:this.getGroups(),maxBlocks:this.getMaxBlocks(),blocks:this.getBlocks()});i.$container.before(a.$container),a.on("newBlock",function(e){t["@newBlock"]({blockType:e.blockType,index:t._blocks.indexOf(i),level:i.getLevel()})}),a.initUi(),e.animate!==!1&&a.$container.css({opacity:0,marginBottom:-a.$container.outerHeight()}).velocity({opacity:1,marginBottom:10},"fast",function(e){return l["default"].requestAnimationFrame(function(){return l["default"].scrollContainerToElement(a.$container)})}),this._tempButtons=a},"@duplicateBlock":function(e){var t=this,i=e.block,r=this._blocks.indexOf(i),a=this._findChildBlocks(r,!0);d["default"].enter(this._templateNs);var o={namespace:d["default"].toFieldName(),blocks:[]};d["default"].leave();var p={type:i.getBlockType().getId(),level:i.getLevel(),content:i.getContent()};i.isEnabled()&&(p.enabled=1),i.isExpanded()||(p.collapsed=1),o.blocks.push(p);var c=!0,y=!1,g=void 0;try{for(var f,v=a[Symbol.iterator]();!(c=(f=v.next()).done);c=!0){var m=f.value;p={type:m.getBlockType().getId(),level:m.getLevel(),content:m.getContent()},m.isEnabled()&&(p.enabled=1),m.isExpanded()||(p.collapsed=1),o.blocks.push(p)}}catch(x){y=!0,g=x}finally{try{!c&&v["return"]&&v["return"]()}finally{if(y)throw g}}var k=(0,s["default"])('<div class="ni_spinner"><div class="spinner"></div></div>');i.$container.after(k);var T=!1,_=function(){};k.css({opacity:0,marginBottom:-k.outerHeight()}).velocity({opacity:1,marginBottom:10},"fast",function(){T=!0,_()}),u["default"].postActionRequest("neo/renderBlocks",o,function(e){e.success&&e.blocks.length>0&&!function(){var r=[],a=!0,o=!1,s=void 0;try{for(var p,c=e.blocks[Symbol.iterator]();!(a=(p=c.next()).done);a=!0){var u=p.value,y=b["default"].getNewId(),d=t.getBlockTypeById(u.type),g=new h["default"]({id:d.getId(),fieldLayoutId:d.getFieldLayoutId(),name:d.getName(),handle:d.getHandle(),maxBlocks:d.getMaxBlocks(),childBlocks:d.getChildBlocks(),topLevel:d.getTopLevel(),tabs:u.tabs}),f=new w["default"]({items:g.getChildBlockItems(t.getItems()),maxBlocks:t.getMaxBlocks()}),v=new b["default"]({namespace:[].concat(n(t._templateNs),[y]),blockType:g,id:y,level:0|u.level,buttons:f,enabled:!!u.enabled,collapsed:!!u.collapsed});r.push(v)}}catch(m){o=!0,s=m}finally{try{!a&&c["return"]&&c["return"]()}finally{if(o)throw s}}_=function(){var e=t._getNextBlockIndex(i),n=!0,a=!1,o=void 0;try{for(var s,p=r[Symbol.iterator]();!(n=(s=p.next()).done);n=!0){var c=s.value;t.addBlock(c,e++,c.getLevel(),!1)}}catch(u){a=!0,o=u}finally{try{!n&&p["return"]&&p["return"]()}finally{if(a)throw o}}var y=r[0];y.$container.css({opacity:0,marginBottom:k.outerHeight()-y.$container.outerHeight()+10}).velocity({opacity:1,marginBottom:10},"fast",function(e){return l["default"].requestAnimationFrame(function(){return l["default"].scrollContainerToElement(y.$container)})}),k.remove()},T&&_()}()})}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=r(n),o=i(35),s=r(o),p={id:-1,fieldLayoutId:-1,sortOrder:0,name:"",handle:"",maxBlocks:0,childBlocks:!1,topLevel:!0,tabs:[]};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},p,e),this._id=0|e.id,this._fieldLayoutId=0|e.fieldLayoutId,this._sortOrder=0|e.sortOrder,this._name=e.name,this._handle=e.handle,this._maxBlocks=0|e.maxBlocks,this._childBlocks=e.childBlocks,this._topLevel=e.topLevel,this._tabs=e.tabs.map(function(e){return e instanceof s["default"]?e:new s["default"](e)})},getType:function(){return"blockType"},getId:function(){return this._id},getFieldLayoutId:function(){return this._fieldLayoutId},getSortOrder:function(){return this._sortOrder},getName:function(){return this._name},getHandle:function(){return this._handle},getMaxBlocks:function(){return this._maxBlocks},getChildBlocks:function(){return this._childBlocks},getTopLevel:function(){return this._topLevel},getTabs:function(){return Array.from(this._tabs)},getChildBlockItems:function(e){var t=this,i=e.filter(function(e){return"group"===e.getType()||t.hasChildBlock(e.getHandle())});return i.filter(function(e,t){if("group"===e.getType()){var r=i[t+1];return r&&"group"!==r.getType()}return!0})},isParent:function(){var e=this.getChildBlocks();return e===!0||"*"===e||Array.isArray(e)&&e.length>0},hasChildBlock:function(e){var t=this.getChildBlocks();return t===!0||"*"===t||Array.isArray(t)&&t.includes(e)}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=r(n),o={name:"",headHtml:"",bodyHtml:"",footHtml:"",errors:[]};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},o,e),this._name=e.name,this._headHtml=e.headHtml||"",this._bodyHtml=e.bodyHtml||"",this._footHtml=e.footHtml||"",this._errors=e.errors},getErrors:function(){return Array.from(this._errors)},getName:function(){return this._name},getHeadHtml:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return this._getHtml(this._headHtml,e)},getBodyHtml:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return this._getHtml(this._bodyHtml,e)},getFootHtml:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return this._getHtml(this._footHtml,e)},isBlank:function(){return!this._bodyHtml.trim()},_getHtml:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null!==t?e.replace(/__NEOBLOCK__/g,t):e}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=r(n),o={sortOrder:0,name:""};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},o,e),this._sortOrder=0|e.sortOrder,this._name=e.name},getType:function(){return"group"},getSortOrder:function(){return this._sortOrder},getName:function(){return this._name},isBlank:function(){return!this._name}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=this.href||this.src;if(e){var t=e.indexOf("?");e=0>t?e:e.substr(0,t);var i=!m.hasOwnProperty(e);return m[e]=1,i}return!0}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),o=r(a);i(3);var s=i(4),p=r(s),l=i(5),c=r(l),u=i(6),y=r(u),d=i(38),g=r(d),h=i(39),f=r(h);i(19);var v={namespace:[],blockType:null,id:null,level:0,buttons:null,enabled:!0,collapsed:!1,modified:!0},m={};t["default"]=p["default"].Base.extend({_templateNs:[],_blockType:null,_initialised:!1,_expanded:!0,_enabled:!0,_modified:!0,_initialState:null,init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},v,t),this._templateNs=y["default"].parse(t.namespace),this._blockType=t.blockType,this._id=t.id,this._buttons=t.buttons,this._modified=t.modified,y["default"].enter(this._templateNs),this.$container=(0,o["default"])((0,f["default"])({type:this._blockType,id:this._id,enabled:!!t.enabled,collapsed:!!t.collapsed,level:t.level,modified:t.modified})),y["default"].leave();var i=this.$container.find("[data-neo-b]");this.$bodyContainer=i.filter('[data-neo-b="container.body"]'),this.$contentContainer=i.filter('[data-neo-b="container.content"]'),this.$childrenContainer=i.filter('[data-neo-b="container.children"]'),this.$blocksContainer=i.filter('[data-neo-b="container.blocks"]'),this.$buttonsContainer=i.filter('[data-neo-b="container.buttons"]'),this.$tabsContainer=i.filter('[data-neo-b="container.tabs"]'),this.$tabContainer=i.filter('[data-neo-b="container.tab"]'),this.$menuContainer=i.filter('[data-neo-b="container.menu"]'),this.$tabButton=i.filter('[data-neo-b="button.tab"]'),this.$settingsButton=i.filter('[data-neo-b="button.actions"]'),this.$togglerButton=i.filter('[data-neo-b="button.toggler"]'),this.$tabsButton=i.filter('[data-neo-b="button.tabs"]'),this.$enabledInput=i.filter('[data-neo-b="input.enabled"]'),this.$collapsedInput=i.filter('[data-neo-b="input.collapsed"]'),this.$levelInput=i.filter('[data-neo-b="input.level"]'),this.$modifiedInput=i.filter('[data-neo-b="input.modified"]'),this.$status=i.filter('[data-neo-b="status"]'),this._buttons&&(this._buttons.on("newBlock",function(t){return e.trigger("newBlock",Object.assign(t,{level:e.getLevel()+1}))}),this.$buttonsContainer.append(this._buttons.$container));var r=!1;if(this._blockType){var n=!0,a=!1,s=void 0;try{for(var l,c=this._blockType.getTabs()[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var u=l.value;if(u.getErrors().length>0){r=!0;break}}}catch(d){a=!0,s=d}finally{try{!n&&c["return"]&&c["return"]()}finally{if(a)throw s}}}this.setLevel(t.level),this.toggleEnabled(t.enabled),this.toggleExpansion(r?!0:!t.collapsed,!1,!1),this.addListener(this.$togglerButton,"dblclick","@doubleClickTitle"),this.addListener(this.$tabButton,"click","@setTab"),this.isNew()||(this._initialState={enabled:this._enabled,level:this._level,content:p["default"].getPostData(this.$contentContainer)},this._detectChangeInterval=setInterval(function(){return e._detectChange()},300))},initUi:function(){var e=this;if(!this._initialised){var t=this._blockType.getTabs(),i=t.map(function(t){return t.getHeadHtml(e._id)}),r=t.map(function(t){return t.getFootHtml(e._id)});this.$head=(0,o["default"])(i.join("")).filter(n),this.$foot=(0,o["default"])(r.join("")).filter(n),p["default"].$bod.siblings("head").append(this.$head),p["default"].$bod.append(this.$foot),c["default"].initUiElements(this.$contentContainer),this.$tabsButton.menubtn(),this._settingsMenu=new p["default"].MenuBtn(this.$settingsButton),this._settingsMenu.on("optionSelect",function(t){return e["@settingSelect"](t)}),this._initialised=!0,this._buttons&&this._buttons.initUi(),this.addListener(this.$container,"resize",function(){return e.updateResponsiveness()}),p["default"].requestAnimationFrame(function(){return e.updateResponsiveness()}),this._initReasonsPlugin(),this._initRelabelPlugin(),this.trigger("initUi")}},destroy:function(){this._initialised&&(this.$head.remove(),this.$foot.remove(),clearInterval(this._detectChangeInterval),this._destroyReasonsPlugin(),this.trigger("destroy"))},getBlockType:function(){return this._blockType},getId:function(){return this._id},getLevel:function(){return this._level},setLevel:function(e){this._level=0|e,this.$levelInput.val(this._level),this.$container.toggleClass("is-level-odd",!!(this._level%2)),this.$container.toggleClass("is-level-even",!(this._level%2))},getButtons:function(){return this._buttons},getContent:function(){var e=p["default"].getPostData(this.$contentContainer),t={},i=function(e,i){for(var r=t,n=0;n<e.length-1;n++){var a=e[n];o["default"].isPlainObject(r[a])||o["default"].isArray(r[a])||(r[a]={}),r=r[a]}var s=e[e.length-1];r[s]=i},r=!0,n=!1,a=void 0;try{for(var s,l=Object.keys(e)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=y["default"].parse(c),d=u.slice(this._templateNs.length+1),g=e[c];i(d,g)}}catch(h){n=!0,a=h}finally{try{!r&&l["return"]&&l["return"]()}finally{if(n)throw a}}return t},isNew:function(){return/^new/.test(this.getId())},isSelected:function(){return this.$container.hasClass("is-selected")},collapse:function(e,t){this.toggleExpansion(!1,e,t)},expand:function(e,t){this.toggleExpansion(!0,e,t)},toggleExpansion:function(e,t,i){var r=this;e="boolean"==typeof e?e:!this._expanded,t="boolean"==typeof t?t:!0,i="boolean"==typeof i?i:!0,e!==this._expanded&&!function(){r._expanded=e;var n=r.$menuContainer.find('[data-action="expand"]').parent(),a=r.$menuContainer.find('[data-action="collapse"]').parent();r.$container.toggleClass("is-expanded",r._expanded).toggleClass("is-contracted",!r._expanded),n.toggleClass("hidden",r._expanded),a.toggleClass("hidden",!r._expanded);var o={opacity:1,height:r.$contentContainer.outerHeight()+r.$childrenContainer.outerHeight()},s={opacity:0,height:0},p={opacity:"",height:""};i?r.$bodyContainer.css(r._expanded?s:o).velocity(r._expanded?o:s,"fast",function(e){r._expanded&&r.$bodyContainer.css(p)}):r.$bodyContainer.css(r._expanded?p:s),r.$collapsedInput.val(r._expanded?0:1),t&&r.saveExpansion(),r.trigger("toggleExpansion",{expanded:r._expanded})}()},isExpanded:function(){return this._expanded},saveExpansion:function(){this.isNew()||c["default"].queueActionRequest("neo/saveExpansion",{expanded:this.isExpanded(),blockId:this.getId()})},disable:function(){this.toggleEnabled(!1)},enable:function(){this.toggleEnabled(!0)},toggleEnabled:function(){var e=arguments.length<=0||void 0===arguments[0]?!this._enabled:arguments[0];if(e!==this._enabled){this._enabled=e;var t=this.$menuContainer.find('[data-action="enable"]').parent(),i=this.$menuContainer.find('[data-action="disable"]').parent();this.$container.toggleClass("is-enabled",this._enabled).toggleClass("is-disabled",!this._enabled),this.$status.toggleClass("hidden",this._enabled),t.toggleClass("hidden",this._enabled),i.toggleClass("hidden",!this._enabled),this.$enabledInput.val(this._enabled?1:0),this.trigger("toggleEnabled",{enabled:this._enabled})}},isEnabled:function(){return this._enabled},selectTab:function(e){var t=(0,o["default"])().add(this.$tabButton).add(this.$tabContainer);t.removeClass("is-selected");var i=t.filter('[data-neo-b-info="'+e+'"]').addClass("is-selected");this.$tabsButton.text(e),this.trigger("selectTab",{tabName:e,$tabButton:i.filter('[data-neo-b="button.tab"]'),$tabContainer:i.filter('[data-neo-b="container.tab"]')})},updateResponsiveness:function(){this._tabsContainerWidth||(this._tabsContainerWidth=this.$tabsContainer.width());var e=this.$tabsContainer.parent().width()<this._tabsContainerWidth;this.$tabsContainer.toggleClass("hidden",e),this.$tabsButton.toggleClass("hidden",!e)},updateMenuStates:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=this.getBlockType(),r=e.filter(function(e){return e.getBlockType().getHandle()===i.getHandle()}),n=i.getMaxBlocks(),a=t>0&&e.length>=t,o=n>0&&r.length>=n,s=a||o;this.$menuContainer.find('[data-action="duplicate"]').toggleClass("disabled",s)},_initReasonsPlugin:function(){var e=c["default"].ReasonsPlugin;if(e){var t=(0,g["default"])(e.ConditionalsRenderer),i=this.getBlockType(),r=i.getId(),n=e.Neo.conditionals[r]||{};this._reasons=new t(this.$contentContainer,n)}},_destroyReasonsPlugin:function(){this._reasons&&this._reasons.destroy()},_initRelabelPlugin:function(){var e=window.Relabel;if(e){y["default"].enter(this._templateNs);var t=this.getBlockType();e.applyLabels(this.$contentContainer,t.getFieldLayoutId(),y["default"].value()),y["default"].leave()}},_detectChange:function(){var e=this._initialState,t=p["default"].getPostData(this.$contentContainer),i=!c["default"].compare(t,e.content)||e.enabled!==this._enabled||e.level!==this._level;i!==this._modified&&(this.$modifiedInput.val(i?1:0),this._modified=i)},"@settingSelect":function(e){var t=(0,o["default"])(e.option);if(!t.hasClass("disabled"))switch(t.attr("data-action")){case"collapse":this.collapse();break;case"expand":this.expand();break;case"disable":this.disable(),this.collapse();break;case"enable":this.enable(),this.expand();break;case"delete":this.destroy();break;case"add":this.trigger("addBlockAbove",{block:this});break;case"duplicate":this.trigger("duplicateBlock",{block:this})}},"@doubleClickTitle":function(e){e.preventDefault(),this.toggleExpansion()},"@setTab":function(e){e.preventDefault();var t=(0,o["default"])(e.currentTarget),i=t.attr("data-neo-b-info");this.selectTab(i)}},{_totalNewBlocks:0,getNewId:function(){return"new"+this._totalNewBlocks++}})},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),p=i(2),l=r(p);t["default"]=function(e){return function(e){function t(){return n(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),s(t,[{key:"addEventListeners",value:function(){var e=this,t=this.settings.fieldsSelector+"[data-toggle]";this.$el.on("click.neoReasons",t,function(t){return e.onInputWrapperClick(t)}).on("change.neoReasons keyup.neoReasons",t+" :input",function(t){return e.onFieldInputChange(t)})}},{key:"removeEventListeners",value:function(){this.$el.off(".neoReasons")}},{key:"addLivePreviewListeners",value:function(){}},{key:"removeLivePreviewListeners",value:function(){}},{key:"initToggleFields",value:function(){if(this.$fields=(0,l["default"])(this.getFieldsSelector()),0===this.$fields.length)return!1;var e=[];for(var t in this.conditionals)for(var i=0;i<this.conditionals[t].length;i++)e.push(this.conditionals[t][i][0].fieldId);var r=this;return this.$fields.each(function(){var t=(0,l["default"])(this);if(void 0!==t.attr("id")){var i=t.attr("id").split("-").slice(-2,-1)[0]||!1,n=Craft.ReasonsPlugin.getFieldIdByHandle(i);n&&t.attr("data-id",n),r.conditionals[n]&&t.attr("data-target",1),e.indexOf(parseInt(n))>-1&&t.attr("data-toggle",1)}}),!0}}]),t}(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\input\\templates\\block.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"hasTabs",expression:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1
}]},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"}]}]}},{type:"raw",value:"\r\n"},{type:"logic",token:{type:"Twig.logic.type.set",key:"isParent",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"isParent",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\r\n<div class="ni_block">\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"modified"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"modified",match:["modified"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="input.modified">\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"type"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"enabled"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"enabled",match:["enabled"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="input.enabled">\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"collapsed"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"collapsed",match:["collapsed"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="input.collapsed">\r\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"level"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"level",match:["level"]}]},{type:"raw",value:'" data-neo-b="input.level">\r\n	<div class="ni_block_topbar">\r\n		<div class="ni_block_topbar_item" data-neo-b="select">\r\n			<div class="checkbox block-checkbox" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Select"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'"></div>\r\n		</div>\r\n		<div class="ni_block_topbar_item clip-text" data-neo-b="select">\r\n			<span>'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'</span>\r\n		</div>\r\n		<div class="ni_block_topbar_item size-full tabs">\r\n			'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"hasTabs",match:["hasTabs"]},{type:"Twig.expression.type.variable",value:"isParent",match:["isParent"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'\r\n				<div class="tabs_trigger" data-neo-b="button.toggler"></div>\r\n			'}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.set",key:"hasErrors",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:'<div class="tabs_inner" data-neo-b="container.tabs">'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"tab",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"logic",token:{type:"Twig.logic.type.set",key:"tabHasErrors",expression:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"getErrors",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}]}]}},{type:"raw",value:'<a class="tab'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.string",value:" is-blank"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"},{type:"Twig.expression.type.string",value:" is-selected"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tabHasErrors",match:["tabHasErrors"]},{type:"Twig.expression.type.string",value:" has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'"\r\n						   data-neo-b="button.tab"\r\n						   data-neo-b-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'">\r\n							'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:"</a>"},{type:"logic",token:{type:"Twig.logic.type.set",key:"hasErrors",expression:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"hasErrors",match:["hasErrors"]},{type:"Twig.expression.type.variable",value:"tabHasErrors",match:["tabHasErrors"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}]}]}}]}},{type:"raw",value:'</div>\r\n				<div class="tabs_btn menubtn hidden'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"hasErrors",match:["hasErrors"]},{type:"Twig.expression.type.string",value:" has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="button.tabs">\r\n					'},{type:"output",stack:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"first",match:["|first","first"]}]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'\r\n				</div>\r\n				<div class="neo_block_tabs-menu menu">\r\n					<ul>\r\n						'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"tab",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:'\r\n							<li>\r\n								<a class="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"},{type:"Twig.expression.type.string",value:" is-selected"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"getErrors",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.string",value:" has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'"\r\n								   data-neo-b="button.tab"\r\n								   data-neo-b-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'">\r\n									'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:"\r\n								</a>\r\n							</li>\r\n						"}]}},{type:"raw",value:"\r\n					</ul>\r\n				</div>\r\n			"}]}},{type:"raw",value:'\r\n		</div>\r\n		<div class="ni_block_topbar_item hidden" data-neo-b="status">\r\n			<div class="status off" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Disabled"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'"></div>\r\n		</div>\r\n		<div class="ni_block_topbar_item block-settings">\r\n			<a class="settings icon menubtn" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Actions"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-b="button.actions"></a>\r\n			<div class="menu" data-neo-b="container.menu">\r\n				<ul class="padded">\r\n					'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"hasTabs",match:["hasTabs"]},{type:"Twig.expression.type.variable",value:"isParent",match:["isParent"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'\r\n						<li><a data-icon="collapse" data-action="collapse">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Collapse"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n						<li class="hidden"><a data-icon="expand" data-action="expand">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Expand"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a></li>\r\n					"}]}},{type:"raw",value:'\r\n					<li><a data-icon="disabled" data-action="disable">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Disable"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n					<li class="hidden"><a data-icon="enabled" data-action="enable">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Enable"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n				</ul>\r\n				<hr class="padded">\r\n				<ul class="padded">\r\n					<li><a data-icon="+" data-action="add">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Add block above"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n					<li><a data-icon="share" data-action="duplicate">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Duplicate block"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n				</ul>\r\n				<hr class="padded">\r\n				<ul class="padded">\r\n					<li><a data-icon="remove" data-action="delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\r\n				</ul>\r\n			</div>\r\n		</div>\r\n		<div class="ni_block_topbar_item block-reorder">\r\n			<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-b="button.move"></a>\r\n		</div>\r\n	</div>\r\n	<div class="ni_block_body" data-neo-b="container.body">\r\n		'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"hasTabs",match:["hasTabs"]}],output:[{type:"raw",value:'\r\n			<div class="ni_block_content" data-neo-b="container.content">'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"tab",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:'\r\n					<div class="ni_block_content_tab '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.string",value:" is-blank"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"},{type:"Twig.expression.type.string",value:" is-selected"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'"\r\n						 data-neo-b="container.tab"\r\n						 data-neo-b-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'">\r\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"getBodyHtml",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"id",match:["id"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n					</div>\r\n				"}]}},{type:"raw",value:"</div>\r\n		"}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"isParent",match:["isParent"]}],output:[{type:"raw",value:'\r\n			<div class="ni_block_children" data-neo-b="container.children">\r\n				<div class="ni_blocks" data-neo-b="container.blocks"></div>\r\n				<div data-neo-b="container.buttons"></div>\r\n			</div>\r\n		'}]}},{type:"raw",value:"\r\n	</div>\r\n</div>\r\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),o=r(a);i(3);var s=i(4),p=r(s),l=i(5),c=r(l),u=i(41),y=r(u);i(19);var d={blockTypes:[],groups:[],items:null,maxBlocks:0,blocks:null};t["default"]=p["default"].Base.extend({_blockTypes:[],_groups:[],_maxBlocks:0,init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},d,t),t.items?(this._items=Array.from(t.items),this._blockTypes=this._items.filter(function(e){return"blockType"===e.getType()}),this._groups=this._items.filter(function(e){return"group"===e.getType()})):(this._blockTypes=Array.from(t.blockTypes),this._groups=Array.from(t.groups),this._items=[].concat(n(this._blockTypes),n(this._groups)).sort(function(e,t){return e.getSortOrder()-t.getSortOrder()})),this._maxBlocks=0|t.maxBlocks,this.$container=(0,o["default"])((0,y["default"])({blockTypes:this._blockTypes,groups:this._groups,items:this._items,maxBlocks:this._maxBlocks}));var i=this.$container.find("[data-neo-bn]");this.$buttonsContainer=i.filter('[data-neo-bn="container.buttons"]'),this.$menuContainer=i.filter('[data-neo-bn="container.menu"]'),this.$blockButtons=i.filter('[data-neo-bn="button.addBlock"]'),this.$groupButtons=i.filter('[data-neo-bn="button.group"]'),t.blocks&&this.updateButtonStates(t.blocks),this.addListener(this.$blockButtons,"activate","@newBlock"),this.addListener(this.$container,"resize",function(){return e.updateResponsiveness()})},initUi:function(){c["default"].initUiElements(this.$container),this.updateResponsiveness()},getBlockTypes:function(){return Array.from(this._blockTypes)},getGroups:function(){return Array.from(this._groups)},getMaxBlocks:function(){return this._maxBlocks},updateButtonStates:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this,i=this._maxBlocks>0&&e.length>=this._maxBlocks;this.$blockButtons.each(function(){var r=(0,o["default"])(this),n=i;n||!function(){var i=t.getBlockTypeByButton(r),a=e.filter(function(e){return e.getBlockType().getHandle()===i.getHandle()}),o=i.getMaxBlocks();n=o>0&&a.length>=o}(),r.toggleClass("disabled",n)}),this.$groupButtons.each(function(){var e=(0,o["default"])(this),t=e.data("menubtn"),r=i;if(!r&&t){var n=t.menu.$options;r=n.length===n.filter(".disabled").length}e.toggleClass("disabled",r)})},updateResponsiveness:function(){this._buttonsContainerWidth||(this._buttonsContainerWidth=this.$buttonsContainer.width());var e=this.$container.width()<this._buttonsContainerWidth;this.$buttonsContainer.toggleClass("hidden",e),this.$menuContainer.toggleClass("hidden",!e)},getBlockTypeByButton:function(e){var t=e.attr("data-neo-bn-info");return this._blockTypes.find(function(e){return e.getHandle()===t})},"@newBlock":function(e){var t=(0,o["default"])(e.currentTarget),i=t.attr("data-neo-bn-info"),r=this._blockTypes.find(function(e){return e.getHandle()===i});this.trigger("newBlock",{blockType:r})}})},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\input\\templates\\buttons.twig",data:[{type:"raw",value:'<div class="ni_buttons">\r\n	<div class="btngroup"\r\n	     data-neo-bn="container.buttons">\r\n		'},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.set",key:"firstButton",expression:[{type:"Twig.expression.type.bool",value:!0}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:"\r\n			"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getType",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n			"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"blockType"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:'\r\n					<li>\r\n						<a data-neo-bn="button.addBlock"\r\n						   data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\r\n							'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n						</a>\r\n					</li>\r\n				"}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'\r\n					<div class="btn'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"firstButton",match:["firstButton"]}],output:[{type:"raw",value:" add icon"}]}},{type:"raw",value:'"\r\n						 data-neo-bn="button.addBlock"\r\n						 data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\r\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n					</div>\r\n					"},{type:"logic",token:{type:"Twig.logic.type.set",key:"firstButton",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"\r\n				"}]}},{type:"raw",value:"\r\n			"}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"group"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"\r\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"</ul></div>"}]},{type:"raw",value:"\r\n				"}]}},{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"index"},{type:"Twig.expression.type.number",value:2,match:["2",null]},{type:"Twig.expression.type.operator.binary",value:"+",precidence:6,associativity:"leftToRight",operator:"+"}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"items",match:["items"]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]}]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.variable",value:"items",match:["items"]},{type:"Twig.expression.type.key.brackets",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"index"},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:"+",precidence:6,associativity:"leftToRight",operator:"+"}]},{type:"Twig.expression.type.key.period",key:"getType",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.string",value:"group"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]}},{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:'\r\n					<div class="btn'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"firstButton",match:["firstButton"]}],output:[{type:"raw",value:" add icon"}]}},{type:"raw",value:' menubtn"\r\n						 data-neo-bn="button.group">\r\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n					</div>\r\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:'<div class="menu"><ul>'}]},{type:"raw",value:"\r\n					"},{type:"logic",token:{type:"Twig.logic.type.set",key:"firstButton",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"\r\n				"}]}},{type:"raw",value:"\r\n			"}]}},{type:"raw",value:"\r\n		"}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"\r\n			"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"</ul></div>"}]},{type:"raw",value:"\r\n		"}]}},{type:"raw",value:'\r\n	</div>\r\n	<div class="btn add icon menubtn hidden"\r\n	     data-neo-bn="container.menu">\r\n		'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Add a block"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'\r\n	</div>\r\n	<div class="menu">\r\n		<ul>\r\n		'},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"\r\n		"},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:"\r\n			"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getType",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\r\n			"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"blockType"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'\r\n				<li>\r\n					<a data-neo-bn="button.addBlock"\r\n					   data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\r\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\r\n					</a>\r\n				</li>\r\n			"}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"group"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"\r\n				"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"</ul>"}]},{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.variable",
value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]}},{type:"raw",value:"\r\n				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"\r\n					<h6>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"</h6>\r\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:'<ul class="padded">'}]},{type:"raw",value:"\r\n				"}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"\r\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"<ul>"}]},{type:"raw",value:"\r\n				"}]}},{type:"raw",value:"\r\n			"}]}},{type:"raw",value:"\r\n		"}]}},{type:"raw",value:"\r\n		</ul>\r\n	</div>\r\n</div>\r\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(13).twig,n=r({id:"C:\\Users\\Benjamin\\Documents\\Web\\craft-neo\\craft\\plugins\\src\\input\\templates\\input.twig",data:[{type:"raw",value:'<div class="ni_blocks" data-neo="container.blocks"></div>\r\n<div data-neo="container.buttons"></div>\r\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,i){var r=i(44);"string"==typeof r&&(r=[[e.id,r,""]]);i(32)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(31)(),t.push([e.id,".neo-input.is-static .ni_block .block-checkbox,.neo-input.is-static .ni_block .block-reorder,.neo-input.is-static .ni_block .block-settings,.neo-input.is-static .ni_buttons{display:none}.neo-input.is-static .ni_block:last-child{margin-bottom:0}.ni_buttons{position:relative;height:30px}.ni_buttons>.btngroup,.ni_buttons>.menubtn{position:absolute;top:0}body.ltr .ni_buttons>.btngroup,body.ltr .ni_buttons>.menubtn{left:0}body.rtl .ni_buttons>.btngroup,body.rtl .ni_buttons>.menubtn{right:0}.ni_blocks>.ni_buttons,.ni_spinner{margin-bottom:10px}.ni_spinner{text-align:center}.ni_block{overflow:hidden;margin-bottom:10px;border-radius:3px;border:1px solid #e3e5e8;background-color:#eef0f1}.ni_block:focus{outline:0}.ni_block_topbar{display:flex;height:30px;line-height:30px;background-color:#eef0f1;color:#8f98a3}.ni_block_topbar_item{cursor:default;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}body.ltr .ni_block_topbar_item:not(:first-child),body.rtl .ni_block_topbar_item:not(:last-child){padding-left:0}.ni_block_topbar_item.size-full{flex-grow:1}.ni_block_topbar_item.clip-text{overflow:hidden;text-overflow:ellipsis}.ni_block_topbar_item.tabs{position:relative;transition:opacity .3s}.ni_block_topbar_item.tabs .tabs_trigger{position:absolute;top:0;bottom:0;left:0;right:0}.ni_block_topbar_item.tabs .tabs_inner{position:absolute;top:0;padding-right:8px;white-space:nowrap}body.ltr .ni_block_topbar_item.tabs .tabs_inner{right:0;direction:ltr}body.rtl .ni_block_topbar_item.tabs .tabs_inner{left:0;direction:rtl}.ni_block_topbar_item.tabs .tabs_btn{position:relative;display:block;cursor:pointer;height:30px;padding:0 9px;border:1px solid #e3e5e8;border-top:0;border-bottom-color:#fafafa;margin-bottom:-1px;background-color:#fafafa;color:#576575}body.ltr .ni_block_topbar_item.tabs .tabs_btn{float:right}body.rtl .ni_block_topbar_item.tabs .tabs_btn{float:left}.ni_block_topbar_item.tabs .tabs_btn.has-errors{color:#da5a47}.ni_block_topbar_item.tabs .tab{display:inline-block;height:30px;padding:0 10px;color:rgba(41,50,61,.5)}.ni_block_topbar_item.tabs .tab:hover{color:#0d78f2}.ni_block_topbar_item.tabs .tab.is-selected{cursor:default;padding:0 9px;border:1px solid #e3e5e8;border-top:0;border-bottom-color:#fafafa;margin-bottom:-1px;background-color:#fafafa;color:#576575}.ni_block_topbar_item.tabs .tab.is-selected.is-blank{border-bottom-color:#eef0f1;background-color:transparent}.ni_block_topbar_item.tabs .tab.has-errors{color:#da5a47}.ni_block_topbar_item>.checkbox{color:#29323d}.ni_block_topbar_item>.status{margin:10px 5px 0 0}.ni_block_topbar_item>a{color:rgba(41,50,61,.25)}.ni_block_topbar_item>a:hover{color:#0d78f2}.ni_block_body{overflow:hidden}.ni_block_content:empty{display:none}.ni_block_content_tab{display:none;padding:14px;border-top:1px solid #e3e5e8;background-color:#fafafa}.ni_block_content_tab.is-blank{padding:0;border-top:0}.ni_block_content_tab.is-selected{display:block}.ni_block_content_tab>.field{margin:15px 0 0}.ni_block_children{padding:14px;border-top:1px solid #e3e5e8;background-color:#eef0f1}.ni_block.is-level-odd>.ni_block_body>.ni_block_children,.ni_block.is-level-odd>.ni_block_topbar{background-color:#fff}.ni_block.is-level-odd>.ni_block_topbar>.ni_block_topbar_item.tabs .tab.is-selected.is-blank{border-bottom-color:#fff}.ni_block.is-contracted>.ni_block_topbar .ni_block_topbar_item.tabs{opacity:0}.ni_block.is-contracted>.ni_block_topbar .ni_block_topbar_item.tabs .tabs_btn,.ni_block.is-contracted>.ni_block_topbar .ni_block_topbar_item.tabs .tabs_inner{pointer-events:none}.ni_block.is-disabled>.ni_block_content .ni_block_content_tab{pointer-events:none;opacity:.5;-webkit-user-select:none;-moz-user-select:none;user-select:none}.neo_block_tabs-menu a.is-selected{cursor:default;pointer-events:none;opacity:.25}.neo_block_tabs-menu a.has-errors{color:#da5a47}",""])}]);
//# sourceMappingURL=main.js.map